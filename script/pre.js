(()=>{var mi=Object.create;var hr=Object.defineProperty;var gi=Object.getOwnPropertyDescriptor;var yi=Object.getOwnPropertyNames;var _i=Object.getPrototypeOf,vi=Object.prototype.hasOwnProperty;var he=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(e,n)=>(typeof require!="undefined"?require:e)[n]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var bi=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var wi=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of yi(e))!vi.call(t,i)&&i!==n&&hr(t,i,{get:()=>e[i],enumerable:!(r=gi(e,i))||r.enumerable});return t};var ki=(t,e,n)=>(n=t!=null?mi(_i(t)):{},wi(e||!t||!t.__esModule?hr(n,"default",{value:t,enumerable:!0}):n,t));var _r=bi((yr,fn)=>{(function(t){typeof yr=="object"&&typeof fn<"u"?fn.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=t()})(function(){return function t(e,n,r){function i(l,m){if(!n[l]){if(!e[l]){var p=typeof he=="function"&&he;if(!m&&p)return p(l,!0);if(s)return s(l,!0);var y=new Error("Cannot find module '"+l+"'");throw y.code="MODULE_NOT_FOUND",y}var c=n[l]={exports:{}};e[l][0].call(c.exports,function(d){var u=e[l][1][d];return i(u||d)},c,c.exports,t,e,n,r)}return n[l].exports}for(var s=typeof he=="function"&&he,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(a){for(var l,m,p,y,c,d,u,g=[],f=0,_=a.length,v=_,S=r.getTypeOf(a)!=="string";f<a.length;)v=_-f,p=S?(l=a[f++],m=f<_?a[f++]:0,f<_?a[f++]:0):(l=a.charCodeAt(f++),m=f<_?a.charCodeAt(f++):0,f<_?a.charCodeAt(f++):0),y=l>>2,c=(3&l)<<4|m>>4,d=1<v?(15&m)<<2|p>>6:64,u=2<v?63&p:64,g.push(s.charAt(y)+s.charAt(c)+s.charAt(d)+s.charAt(u));return g.join("")},n.decode=function(a){var l,m,p,y,c,d,u=0,g=0,f="data:";if(a.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var _,v=3*(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(a.charAt(a.length-1)===s.charAt(64)&&v--,a.charAt(a.length-2)===s.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=i.uint8array?new Uint8Array(0|v):new Array(0|v);u<a.length;)l=s.indexOf(a.charAt(u++))<<2|(y=s.indexOf(a.charAt(u++)))>>4,m=(15&y)<<4|(c=s.indexOf(a.charAt(u++)))>>2,p=(3&c)<<6|(d=s.indexOf(a.charAt(u++))),_[g++]=l,c!==64&&(_[g++]=m),d!==64&&(_[g++]=p);return _}},{"./support":30,"./utils":32}],2:[function(t,e,n){"use strict";var r=t("./external"),i=t("./stream/DataWorker"),s=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");function l(m,p,y,c,d){this.compressedSize=m,this.uncompressedSize=p,this.crc32=y,this.compression=c,this.compressedContent=d}l.prototype={getContentWorker:function(){var m=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),p=this;return m.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(m,p,y){return m.pipe(new s).pipe(new a("uncompressedSize")).pipe(p.compressWorker(y)).pipe(new a("compressedSize")).withStreamInfo("compression",p)},e.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){"use strict";var r=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(i){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){"use strict";var r=t("./utils"),i=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var m=0;m<8;m++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();e.exports=function(s,a){return s!==void 0&&s.length?r.getTypeOf(s)!=="string"?function(l,m,p,y){var c=i,d=y+p;l^=-1;for(var u=y;u<d;u++)l=l>>>8^c[255&(l^m[u])];return-1^l}(0|a,s,s.length,0):function(l,m,p,y){var c=i,d=y+p;l^=-1;for(var u=y;u<d;u++)l=l>>>8^c[255&(l^m.charCodeAt(u))];return-1^l}(0|a,s,s.length,0):0}},{"./utils":32}],5:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){"use strict";var r=null;r=typeof Promise<"u"?Promise:t("lie"),e.exports={Promise:r}},{lie:37}],7:[function(t,e,n){"use strict";var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=t("pako"),s=t("./utils"),a=t("./stream/GenericWorker"),l=r?"uint8array":"array";function m(p,y){a.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=y,this.meta={}}n.magic="\b\0",s.inherits(m,a),m.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(l,p.data),!1)},m.prototype.flush=function(){a.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(y){p.push({data:y,meta:p.meta})}},n.compressWorker=function(p){return new m("Deflate",p)},n.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,n){"use strict";function r(c,d){var u,g="";for(u=0;u<d;u++)g+=String.fromCharCode(255&c),c>>>=8;return g}function i(c,d,u,g,f,_){var v,S,k=c.file,E=c.compression,C=_!==l.utf8encode,R=s.transformTo("string",_(k.name)),A=s.transformTo("string",l.utf8encode(k.name)),F=k.comment,L=s.transformTo("string",_(F)),x=s.transformTo("string",l.utf8encode(F)),T=A.length!==k.name.length,h=x.length!==F.length,P="",Y="",K="",J=k.dir,j=k.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};d&&!u||(Q.crc32=c.crc32,Q.compressedSize=c.compressedSize,Q.uncompressedSize=c.uncompressedSize);var z=0;d&&(z|=8),C||!T&&!h||(z|=2048);var O=0,X=0;J&&(O|=16),f==="UNIX"?(X=798,O|=function(V,lt){var gt=V;return V||(gt=lt?16893:33204),(65535&gt)<<16}(k.unixPermissions,J)):(X=20,O|=function(V){return 63&(V||0)}(k.dosPermissions)),v=j.getUTCHours(),v<<=6,v|=j.getUTCMinutes(),v<<=5,v|=j.getUTCSeconds()/2,S=j.getUTCFullYear()-1980,S<<=4,S|=j.getUTCMonth()+1,S<<=5,S|=j.getUTCDate(),T&&(Y=r(1,1)+r(m(R),4)+A,P+="up"+r(Y.length,2)+Y),h&&(K=r(1,1)+r(m(L),4)+x,P+="uc"+r(K.length,2)+K);var H="";return H+=`
\0`,H+=r(z,2),H+=E.magic,H+=r(v,2),H+=r(S,2),H+=r(Q.crc32,4),H+=r(Q.compressedSize,4),H+=r(Q.uncompressedSize,4),H+=r(R.length,2),H+=r(P.length,2),{fileRecord:p.LOCAL_FILE_HEADER+H+R+P,dirRecord:p.CENTRAL_FILE_HEADER+r(X,2)+H+r(L.length,2)+"\0\0\0\0"+r(O,4)+r(g,4)+R+P+L}}var s=t("../utils"),a=t("../stream/GenericWorker"),l=t("../utf8"),m=t("../crc32"),p=t("../signature");function y(c,d,u,g){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=u,this.encodeFileName=g,this.streamFiles=c,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(y,a),y.prototype.push=function(c){var d=c.meta.percent||0,u=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(c):(this.bytesWritten+=c.data.length,a.prototype.push.call(this,{data:c.data,meta:{currentFile:this.currentFile,percent:u?(d+100*(u-g-1))/u:100}}))},y.prototype.openedSource=function(c){this.currentSourceOffset=this.bytesWritten,this.currentFile=c.file.name;var d=this.streamFiles&&!c.file.dir;if(d){var u=i(c,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(c){this.accumulate=!1;var d=this.streamFiles&&!c.file.dir,u=i(c,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),d)this.push({data:function(g){return p.DATA_DESCRIPTOR+r(g.crc32,4)+r(g.compressedSize,4)+r(g.uncompressedSize,4)}(c),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var c=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var u=this.bytesWritten-c,g=function(f,_,v,S,k){var E=s.transformTo("string",k(S));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(f,2)+r(f,2)+r(_,4)+r(v,4)+r(E.length,2)+E}(this.dirRecords.length,u,c,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(c){this._sources.push(c);var d=this;return c.on("data",function(u){d.processChunk(u)}),c.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),c.on("error",function(u){d.error(u)}),this},y.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(c){var d=this._sources;if(!a.prototype.error.call(this,c))return!1;for(var u=0;u<d.length;u++)try{d[u].error(c)}catch{}return!0},y.prototype.lock=function(){a.prototype.lock.call(this);for(var c=this._sources,d=0;d<c.length;d++)c[d].lock()},e.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){"use strict";var r=t("../compressions"),i=t("./ZipFileWorker");n.generateWorker=function(s,a,l){var m=new i(a.streamFiles,l,a.platform,a.encodeFileName),p=0;try{s.forEach(function(y,c){p++;var d=function(_,v){var S=_||v,k=r[S];if(!k)throw new Error(S+" is not a valid compression method !");return k}(c.options.compression,a.compression),u=c.options.compressionOptions||a.compressionOptions||{},g=c.dir,f=c.date;c._compressWorker(d,u).withStreamInfo("file",{name:y,dir:g,date:f,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(m)}),m.entriesCount=p}catch(y){m.error(y)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new r;for(var s in this)typeof this[s]!="function"&&(i[s]=this[s]);return i}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.10.0",r.loadAsync=function(i,s){return new r().loadAsync(i,s)},r.external=t("./external"),e.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./external"),s=t("./utf8"),a=t("./zipEntries"),l=t("./stream/Crc32Probe"),m=t("./nodejsUtils");function p(y){return new i.Promise(function(c,d){var u=y.decompressed.getContentWorker().pipe(new l);u.on("error",function(g){d(g)}).on("end",function(){u.streamInfo.crc32!==y.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):c()}).resume()})}e.exports=function(y,c){var d=this;return c=r.extend(c||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),m.isNode&&m.isStream(y)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",y,!0,c.optimizedBinaryString,c.base64).then(function(u){var g=new a(c);return g.load(u),g}).then(function(u){var g=[i.Promise.resolve(u)],f=u.files;if(c.checkCRC32)for(var _=0;_<f.length;_++)g.push(p(f[_]));return i.Promise.all(g)}).then(function(u){for(var g=u.shift(),f=g.files,_=0;_<f.length;_++){var v=f[_],S=v.fileNameStr,k=r.resolve(v.fileNameStr);d.file(k,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:c.createFolders}),v.dir||(d.file(k).unsafeOriginalName=S)}return g.zipComment.length&&(d.comment=g.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../stream/GenericWorker");function s(a,l){i.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(l)}r.inherits(s,i),s.prototype._bindStream=function(a){var l=this;(this._stream=a).pause(),a.on("data",function(m){l.push({data:m,meta:{percent:0}})}).on("error",function(m){l.isPaused?this.generatedError=m:l.error(m)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},s.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){"use strict";var r=t("readable-stream").Readable;function i(s,a,l){r.call(this,a),this._helper=s;var m=this;s.on("data",function(p,y){m.push(p)||m._helper.pause(),l&&l(y)}).on("error",function(p){m.emit("error",p)}).on("end",function(){m.push(null)})}t("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,e,n){"use strict";e.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,i);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,i)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var i=new Buffer(r);return i.fill(0),i},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(t,e,n){"use strict";function r(k,E,C){var R,A=s.getTypeOf(E),F=s.extend(C||{},m);F.date=F.date||new Date,F.compression!==null&&(F.compression=F.compression.toUpperCase()),typeof F.unixPermissions=="string"&&(F.unixPermissions=parseInt(F.unixPermissions,8)),F.unixPermissions&&16384&F.unixPermissions&&(F.dir=!0),F.dosPermissions&&16&F.dosPermissions&&(F.dir=!0),F.dir&&(k=f(k)),F.createFolders&&(R=g(k))&&_.call(this,R,!0);var L=A==="string"&&F.binary===!1&&F.base64===!1;C&&C.binary!==void 0||(F.binary=!L),(E instanceof p&&E.uncompressedSize===0||F.dir||!E||E.length===0)&&(F.base64=!1,F.binary=!0,E="",F.compression="STORE",A="string");var x=null;x=E instanceof p||E instanceof a?E:d.isNode&&d.isStream(E)?new u(k,E):s.prepareContent(k,E,F.binary,F.optimizedBinaryString,F.base64);var T=new y(k,x,F);this.files[k]=T}var i=t("./utf8"),s=t("./utils"),a=t("./stream/GenericWorker"),l=t("./stream/StreamHelper"),m=t("./defaults"),p=t("./compressedObject"),y=t("./zipObject"),c=t("./generate"),d=t("./nodejsUtils"),u=t("./nodejs/NodejsStreamInputAdapter"),g=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var E=k.lastIndexOf("/");return 0<E?k.substring(0,E):""},f=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},_=function(k,E){return E=E!==void 0?E:m.createFolders,k=f(k),this.files[k]||r.call(this,k,null,{dir:!0,createFolders:E}),this.files[k]};function v(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var E,C,R;for(E in this.files)R=this.files[E],(C=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&k(C,R)},filter:function(k){var E=[];return this.forEach(function(C,R){k(C,R)&&E.push(R)}),E},file:function(k,E,C){if(arguments.length!==1)return k=this.root+k,r.call(this,k,E,C),this;if(v(k)){var R=k;return this.filter(function(F,L){return!L.dir&&R.test(F)})}var A=this.files[this.root+k];return A&&!A.dir?A:null},folder:function(k){if(!k)return this;if(v(k))return this.filter(function(A,F){return F.dir&&k.test(A)});var E=this.root+k,C=_.call(this,E),R=this.clone();return R.root=C.name,R},remove:function(k){k=this.root+k;var E=this.files[k];if(E||(k.slice(-1)!=="/"&&(k+="/"),E=this.files[k]),E&&!E.dir)delete this.files[k];else for(var C=this.filter(function(A,F){return F.name.slice(0,k.length)===k}),R=0;R<C.length;R++)delete this.files[C[R].name];return this},generate:function(k){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var E,C={};try{if((C=s.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");s.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var R=C.comment||this.comment||"";E=c.generateWorker(this,C,R)}catch(A){(E=new a("error")).error(A)}return new l(E,C.type||"string",C.mimeType)},generateAsync:function(k,E){return this.generateInternalStream(k).accumulate(E)},generateNodeStream:function(k,E){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(E)}};e.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){"use strict";var r=t("./DataReader");function i(s){r.call(this,s);for(var a=0;a<this.data.length;a++)s[a]=255&s[a]}t("../utils").inherits(i,r),i.prototype.byteAt=function(s){return this.data[this.zero+s]},i.prototype.lastIndexOfSignature=function(s){for(var a=s.charCodeAt(0),l=s.charCodeAt(1),m=s.charCodeAt(2),p=s.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===a&&this.data[y+1]===l&&this.data[y+2]===m&&this.data[y+3]===p)return y-this.zero;return-1},i.prototype.readAndCheckSignature=function(s){var a=s.charCodeAt(0),l=s.charCodeAt(1),m=s.charCodeAt(2),p=s.charCodeAt(3),y=this.readData(4);return a===y[0]&&l===y[1]&&m===y[2]&&p===y[3]},i.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var a=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,a},e.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){"use strict";var r=t("../utils");function i(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(s){},readInt:function(s){var a,l=0;for(this.checkOffset(s),a=this.index+s-1;a>=this.index;a--)l=(l<<8)+this.byteAt(a);return this.index+=s,l},readString:function(s){return r.transformTo("string",this.readData(s))},readData:function(s){},lastIndexOfSignature:function(s){},readAndCheckSignature:function(s){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},e.exports=i},{"../utils":32}],19:[function(t,e,n){"use strict";var r=t("./Uint8ArrayReader");function i(s){r.call(this,s)}t("../utils").inherits(i,r),i.prototype.readData=function(s){this.checkOffset(s);var a=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,a},e.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){"use strict";var r=t("./DataReader");function i(s){r.call(this,s)}t("../utils").inherits(i,r),i.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},i.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},i.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},i.prototype.readData=function(s){this.checkOffset(s);var a=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,a},e.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){"use strict";var r=t("./ArrayReader");function i(s){r.call(this,s)}t("../utils").inherits(i,r),i.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var a=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,a},e.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../support"),s=t("./ArrayReader"),a=t("./StringReader"),l=t("./NodeBufferReader"),m=t("./Uint8ArrayReader");e.exports=function(p){var y=r.getTypeOf(p);return r.checkSupport(y),y!=="string"||i.uint8array?y==="nodebuffer"?new l(p):i.uint8array?new m(r.transformTo("uint8array",p)):new s(r.transformTo("array",p)):new a(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,e,n){"use strict";var r=t("./GenericWorker"),i=t("../utils");function s(a){r.call(this,"ConvertWorker to "+a),this.destType=a}i.inherits(s,r),s.prototype.processChunk=function(a){this.push({data:i.transformTo(this.destType,a.data),meta:a.meta})},e.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){"use strict";var r=t("./GenericWorker"),i=t("../crc32");function s(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(s,r),s.prototype.processChunk=function(a){this.streamInfo.crc32=i(a.data,this.streamInfo.crc32||0),this.push(a)},e.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./GenericWorker");function s(a){i.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}r.inherits(s,i),s.prototype.processChunk=function(a){if(a){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+a.data.length}i.prototype.processChunk.call(this,a)},e.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./GenericWorker");function s(a){i.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,a.then(function(m){l.dataIsReady=!0,l.data=m,l.max=m&&m.length||0,l.type=r.getTypeOf(m),l.isPaused||l._tickAndRepeat()},function(m){l.error(m)})}r.inherits(s,i),s.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":a=this.data.substring(this.index,l);break;case"uint8array":a=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":a=this.data.slice(this.index,l)}return this.index=l,this.push({data:a,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){"use strict";function r(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,s){return this._listeners[i].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,s){if(this._listeners[i])for(var a=0;a<this._listeners[i].length;a++)this._listeners[i][a].call(this,s)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var s=this;return i.on("data",function(a){s.processChunk(a)}),i.on("end",function(){s.end()}),i.on("error",function(a){s.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,s){return this.extraStreamInfo[i]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},e.exports=r},{}],29:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./ConvertWorker"),s=t("./GenericWorker"),a=t("../base64"),l=t("../support"),m=t("../external"),p=null;if(l.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(d,u){return new m.Promise(function(g,f){var _=[],v=d._internalType,S=d._outputType,k=d._mimeType;d.on("data",function(E,C){_.push(E),u&&u(C)}).on("error",function(E){_=[],f(E)}).on("end",function(){try{var E=function(C,R,A){switch(C){case"blob":return r.newBlob(r.transformTo("arraybuffer",R),A);case"base64":return a.encode(R);default:return r.transformTo(C,R)}}(S,function(C,R){var A,F=0,L=null,x=0;for(A=0;A<R.length;A++)x+=R[A].length;switch(C){case"string":return R.join("");case"array":return Array.prototype.concat.apply([],R);case"uint8array":for(L=new Uint8Array(x),A=0;A<R.length;A++)L.set(R[A],F),F+=R[A].length;return L;case"nodebuffer":return Buffer.concat(R);default:throw new Error("concat : unsupported type '"+C+"'")}}(v,_),k);g(E)}catch(C){f(C)}_=[]}).resume()})}function c(d,u,g){var f=u;switch(u){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=u,this._mimeType=g,r.checkSupport(f),this._worker=d.pipe(new i(f)),d.lock()}catch(_){this._worker=new s("error"),this._worker.error(_)}}c.prototype={accumulate:function(d){return y(this,d)},on:function(d,u){var g=this;return d==="data"?this._worker.on(d,function(f){u.call(g,f.data,f.meta)}):this._worker.on(d,function(){r.delay(u,arguments,g)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},d)}},e.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=i.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,n){"use strict";for(var r=t("./utils"),i=t("./support"),s=t("./nodejsUtils"),a=t("./stream/GenericWorker"),l=new Array(256),m=0;m<256;m++)l[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;l[254]=l[254]=1;function p(){a.call(this,"utf-8 decode"),this.leftOver=null}function y(){a.call(this,"utf-8 encode")}n.utf8encode=function(c){return i.nodebuffer?s.newBufferFrom(c,"utf-8"):function(d){var u,g,f,_,v,S=d.length,k=0;for(_=0;_<S;_++)(64512&(g=d.charCodeAt(_)))==55296&&_+1<S&&(64512&(f=d.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(f-56320),_++),k+=g<128?1:g<2048?2:g<65536?3:4;for(u=i.uint8array?new Uint8Array(k):new Array(k),_=v=0;v<k;_++)(64512&(g=d.charCodeAt(_)))==55296&&_+1<S&&(64512&(f=d.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(f-56320),_++),g<128?u[v++]=g:(g<2048?u[v++]=192|g>>>6:(g<65536?u[v++]=224|g>>>12:(u[v++]=240|g>>>18,u[v++]=128|g>>>12&63),u[v++]=128|g>>>6&63),u[v++]=128|63&g);return u}(c)},n.utf8decode=function(c){return i.nodebuffer?r.transformTo("nodebuffer",c).toString("utf-8"):function(d){var u,g,f,_,v=d.length,S=new Array(2*v);for(u=g=0;u<v;)if((f=d[u++])<128)S[g++]=f;else if(4<(_=l[f]))S[g++]=65533,u+=_-1;else{for(f&=_===2?31:_===3?15:7;1<_&&u<v;)f=f<<6|63&d[u++],_--;1<_?S[g++]=65533:f<65536?S[g++]=f:(f-=65536,S[g++]=55296|f>>10&1023,S[g++]=56320|1023&f)}return S.length!==g&&(S.subarray?S=S.subarray(0,g):S.length=g),r.applyFromCharCode(S)}(c=r.transformTo(i.uint8array?"uint8array":"array",c))},r.inherits(p,a),p.prototype.processChunk=function(c){var d=r.transformTo(i.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var u=d;(d=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),d.set(u,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var g=function(_,v){var S;for((v=v||_.length)>_.length&&(v=_.length),S=v-1;0<=S&&(192&_[S])==128;)S--;return S<0||S===0?v:S+l[_[S]]>v?S:v}(d),f=d;g!==d.length&&(i.uint8array?(f=d.subarray(0,g),this.leftOver=d.subarray(g,d.length)):(f=d.slice(0,g),this.leftOver=d.slice(g,d.length))),this.push({data:n.utf8decode(f),meta:c.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=p,r.inherits(y,a),y.prototype.processChunk=function(c){this.push({data:n.utf8encode(c.data),meta:c.meta})},n.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,n){"use strict";var r=t("./support"),i=t("./base64"),s=t("./nodejsUtils"),a=t("./external");function l(u){return u}function m(u,g){for(var f=0;f<u.length;++f)g[f]=255&u.charCodeAt(f);return g}t("setimmediate"),n.newBlob=function(u,g){n.checkSupport("blob");try{return new Blob([u],{type:g})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(u),f.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(u,g,f){var _=[],v=0,S=u.length;if(S<=f)return String.fromCharCode.apply(null,u);for(;v<S;)g==="array"||g==="nodebuffer"?_.push(String.fromCharCode.apply(null,u.slice(v,Math.min(v+f,S)))):_.push(String.fromCharCode.apply(null,u.subarray(v,Math.min(v+f,S)))),v+=f;return _.join("")},stringifyByChar:function(u){for(var g="",f=0;f<u.length;f++)g+=String.fromCharCode(u[f]);return g},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function y(u){var g=65536,f=n.getTypeOf(u),_=!0;if(f==="uint8array"?_=p.applyCanBeUsed.uint8array:f==="nodebuffer"&&(_=p.applyCanBeUsed.nodebuffer),_)for(;1<g;)try{return p.stringifyByChunk(u,f,g)}catch{g=Math.floor(g/2)}return p.stringifyByChar(u)}function c(u,g){for(var f=0;f<u.length;f++)g[f]=u[f];return g}n.applyFromCharCode=y;var d={};d.string={string:l,array:function(u){return m(u,new Array(u.length))},arraybuffer:function(u){return d.string.uint8array(u).buffer},uint8array:function(u){return m(u,new Uint8Array(u.length))},nodebuffer:function(u){return m(u,s.allocBuffer(u.length))}},d.array={string:y,array:l,arraybuffer:function(u){return new Uint8Array(u).buffer},uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return s.newBufferFrom(u)}},d.arraybuffer={string:function(u){return y(new Uint8Array(u))},array:function(u){return c(new Uint8Array(u),new Array(u.byteLength))},arraybuffer:l,uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return s.newBufferFrom(new Uint8Array(u))}},d.uint8array={string:y,array:function(u){return c(u,new Array(u.length))},arraybuffer:function(u){return u.buffer},uint8array:l,nodebuffer:function(u){return s.newBufferFrom(u)}},d.nodebuffer={string:y,array:function(u){return c(u,new Array(u.length))},arraybuffer:function(u){return d.nodebuffer.uint8array(u).buffer},uint8array:function(u){return c(u,new Uint8Array(u.length))},nodebuffer:l},n.transformTo=function(u,g){if(g=g||"",!u)return g;n.checkSupport(u);var f=n.getTypeOf(g);return d[f][u](g)},n.resolve=function(u){for(var g=u.split("/"),f=[],_=0;_<g.length;_++){var v=g[_];v==="."||v===""&&_!==0&&_!==g.length-1||(v===".."?f.pop():f.push(v))}return f.join("/")},n.getTypeOf=function(u){return typeof u=="string"?"string":Object.prototype.toString.call(u)==="[object Array]"?"array":r.nodebuffer&&s.isBuffer(u)?"nodebuffer":r.uint8array&&u instanceof Uint8Array?"uint8array":r.arraybuffer&&u instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(u){if(!r[u.toLowerCase()])throw new Error(u+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(u){var g,f,_="";for(f=0;f<(u||"").length;f++)_+="\\x"+((g=u.charCodeAt(f))<16?"0":"")+g.toString(16).toUpperCase();return _},n.delay=function(u,g,f){setImmediate(function(){u.apply(f||null,g||[])})},n.inherits=function(u,g){function f(){}f.prototype=g.prototype,u.prototype=new f},n.extend=function(){var u,g,f={};for(u=0;u<arguments.length;u++)for(g in arguments[u])arguments[u].hasOwnProperty(g)&&f[g]===void 0&&(f[g]=arguments[u][g]);return f},n.prepareContent=function(u,g,f,_,v){return a.Promise.resolve(g).then(function(S){return r.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new a.Promise(function(k,E){var C=new FileReader;C.onload=function(R){k(R.target.result)},C.onerror=function(R){E(R.target.error)},C.readAsArrayBuffer(S)}):S}).then(function(S){var k=n.getTypeOf(S);return k?(k==="arraybuffer"?S=n.transformTo("uint8array",S):k==="string"&&(v?S=i.decode(S):f&&_!==!0&&(S=function(E){return m(E,r.uint8array?new Uint8Array(E.length):new Array(E.length))}(S))),S):a.Promise.reject(new Error("Can't read the data of '"+u+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),i=t("./utils"),s=t("./signature"),a=t("./zipEntry"),l=(t("./utf8"),t("./support"));function m(p){this.files=[],this.loadOptions=p}m.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(y)+", expected "+i.pretty(p)+")")}},isSignature:function(p,y){var c=this.reader.index;this.reader.setIndex(p);var d=this.reader.readString(4)===y;return this.reader.setIndex(c),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),y=l.uint8array?"uint8array":"array",c=i.transformTo(y,p);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,y,c,d=this.zip64EndOfCentralSize-44;0<d;)p=this.reader.readInt(2),y=this.reader.readInt(4),c=this.reader.readData(y),this.zip64ExtensibleData[p]={id:p,length:y,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,y;for(p=0;p<this.files.length;p++)y=this.files[p],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(p=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var y=p;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var c=this.centralDirOffset+this.centralDirSize;this.zip64&&(c+=20,c+=12+this.zip64EndOfCentralSize);var d=y-c;if(0<d)this.isSignature(y,s.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(p){this.reader=r(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),i=t("./utils"),s=t("./compressedObject"),a=t("./crc32"),l=t("./utf8"),m=t("./compressions"),p=t("./support");function y(c,d){this.options=c,this.loadOptions=d}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(c){var d,u;if(c.skip(22),this.fileNameLength=c.readInt(2),u=c.readInt(2),this.fileName=c.readData(this.fileNameLength),c.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=function(g){for(var f in m)if(m.hasOwnProperty(f)&&m[f].magic===g)return m[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,d,c.readData(this.compressedSize))},readCentralPart:function(c){this.versionMadeBy=c.readInt(2),c.skip(2),this.bitFlag=c.readInt(2),this.compressionMethod=c.readString(2),this.date=c.readDate(),this.crc32=c.readInt(4),this.compressedSize=c.readInt(4),this.uncompressedSize=c.readInt(4);var d=c.readInt(2);if(this.extraFieldsLength=c.readInt(2),this.fileCommentLength=c.readInt(2),this.diskNumberStart=c.readInt(2),this.internalFileAttributes=c.readInt(2),this.externalFileAttributes=c.readInt(4),this.localHeaderOffset=c.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");c.skip(d),this.readExtraFields(c),this.parseZIP64ExtraField(c),this.fileComment=c.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var c=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),c==0&&(this.dosPermissions=63&this.externalFileAttributes),c==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(c){if(this.extraFields[1]){var d=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(c){var d,u,g,f=c.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});c.index+4<f;)d=c.readInt(2),u=c.readInt(2),g=c.readData(u),this.extraFields[d]={id:d,length:u,value:g};c.setIndex(f)},handleUTF8:function(){var c=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var u=i.transformTo(c,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var f=i.transformTo(c,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var c=this.extraFields[28789];if(c){var d=r(c.value);return d.readInt(1)!==1||a(this.fileName)!==d.readInt(4)?null:l.utf8decode(d.readData(c.length-5))}return null},findExtraFieldUnicodeComment:function(){var c=this.extraFields[25461];if(c){var d=r(c.value);return d.readInt(1)!==1||a(this.fileComment)!==d.readInt(4)?null:l.utf8decode(d.readData(c.length-5))}return null}},e.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){"use strict";function r(d,u,g){this.name=d,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=u,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var i=t("./stream/StreamHelper"),s=t("./stream/DataWorker"),a=t("./utf8"),l=t("./compressedObject"),m=t("./stream/GenericWorker");r.prototype={internalStream:function(d){var u=null,g="string";try{if(!d)throw new Error("No output type specified.");var f=(g=d.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),u=this._decompressWorker();var _=!this._dataBinary;_&&!f&&(u=u.pipe(new a.Utf8EncodeWorker)),!_&&f&&(u=u.pipe(new a.Utf8DecodeWorker))}catch(v){(u=new m("error")).error(v)}return new i(u,g,"")},async:function(d,u){return this.internalStream(d).accumulate(u)},nodeStream:function(d,u){return this.internalStream(d||"nodebuffer").toNodejsStream(u)},_compressWorker:function(d,u){if(this._data instanceof l&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new a.Utf8EncodeWorker)),l.createWorkerFrom(g,d,u)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof m?this._data:new s(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<p.length;c++)r.prototype[p[c]]=y;e.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,n){(function(r){"use strict";var i,s,a=r.MutationObserver||r.WebKitMutationObserver;if(a){var l=0,m=new a(d),p=r.document.createTextNode("");m.observe(p,{characterData:!0}),i=function(){p.data=l=++l%2}}else if(r.setImmediate||r.MessageChannel===void 0)i="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var u=r.document.createElement("script");u.onreadystatechange=function(){d(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},r.document.documentElement.appendChild(u)}:function(){setTimeout(d,0)};else{var y=new r.MessageChannel;y.port1.onmessage=d,i=function(){y.port2.postMessage(0)}}var c=[];function d(){var u,g;s=!0;for(var f=c.length;f;){for(g=c,c=[],u=-1;++u<f;)g[u]();f=c.length}s=!1}e.exports=function(u){c.push(u)!==1||s||i()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,e,n){"use strict";var r=t("immediate");function i(){}var s={},a=["REJECTED"],l=["FULFILLED"],m=["PENDING"];function p(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,f!==i&&u(this,f)}function y(f,_,v){this.promise=f,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function c(f,_,v){r(function(){var S;try{S=_(v)}catch(k){return s.reject(f,k)}S===f?s.reject(f,new TypeError("Cannot resolve promise with itself")):s.resolve(f,S)})}function d(f){var _=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof _=="function")return function(){_.apply(f,arguments)}}function u(f,_){var v=!1;function S(C){v||(v=!0,s.reject(f,C))}function k(C){v||(v=!0,s.resolve(f,C))}var E=g(function(){_(k,S)});E.status==="error"&&S(E.value)}function g(f,_){var v={};try{v.value=f(_),v.status="success"}catch(S){v.status="error",v.value=S}return v}(e.exports=p).prototype.finally=function(f){if(typeof f!="function")return this;var _=this.constructor;return this.then(function(v){return _.resolve(f()).then(function(){return v})},function(v){return _.resolve(f()).then(function(){throw v})})},p.prototype.catch=function(f){return this.then(null,f)},p.prototype.then=function(f,_){if(typeof f!="function"&&this.state===l||typeof _!="function"&&this.state===a)return this;var v=new this.constructor(i);return this.state!==m?c(v,this.state===l?f:_,this.outcome):this.queue.push(new y(v,f,_)),v},y.prototype.callFulfilled=function(f){s.resolve(this.promise,f)},y.prototype.otherCallFulfilled=function(f){c(this.promise,this.onFulfilled,f)},y.prototype.callRejected=function(f){s.reject(this.promise,f)},y.prototype.otherCallRejected=function(f){c(this.promise,this.onRejected,f)},s.resolve=function(f,_){var v=g(d,_);if(v.status==="error")return s.reject(f,v.value);var S=v.value;if(S)u(f,S);else{f.state=l,f.outcome=_;for(var k=-1,E=f.queue.length;++k<E;)f.queue[k].callFulfilled(_)}return f},s.reject=function(f,_){f.state=a,f.outcome=_;for(var v=-1,S=f.queue.length;++v<S;)f.queue[v].callRejected(_);return f},p.resolve=function(f){return f instanceof this?f:s.resolve(new this(i),f)},p.reject=function(f){var _=new this(i);return s.reject(_,f)},p.all=function(f){var _=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=f.length,S=!1;if(!v)return this.resolve([]);for(var k=new Array(v),E=0,C=-1,R=new this(i);++C<v;)A(f[C],C);return R;function A(F,L){_.resolve(F).then(function(x){k[L]=x,++E!==v||S||(S=!0,s.resolve(R,k))},function(x){S||(S=!0,s.reject(R,x))})}},p.race=function(f){var _=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=f.length,S=!1;if(!v)return this.resolve([]);for(var k=-1,E=new this(i);++k<v;)C=f[k],_.resolve(C).then(function(R){S||(S=!0,s.resolve(E,R))},function(R){S||(S=!0,s.reject(E,R))});var C;return E}},{immediate:36}],38:[function(t,e,n){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,n){"use strict";var r=t("./zlib/deflate"),i=t("./utils/common"),s=t("./utils/strings"),a=t("./zlib/messages"),l=t("./zlib/zstream"),m=Object.prototype.toString,p=0,y=-1,c=0,d=8;function u(f){if(!(this instanceof u))return new u(f);this.options=i.assign({level:y,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},f||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var v=r.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(v!==p)throw new Error(a[v]);if(_.header&&r.deflateSetHeader(this.strm,_.header),_.dictionary){var S;if(S=typeof _.dictionary=="string"?s.string2buf(_.dictionary):m.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(v=r.deflateSetDictionary(this.strm,S))!==p)throw new Error(a[v]);this._dict_set=!0}}function g(f,_){var v=new u(_);if(v.push(f,!0),v.err)throw v.msg||a[v.err];return v.result}u.prototype.push=function(f,_){var v,S,k=this.strm,E=this.options.chunkSize;if(this.ended)return!1;S=_===~~_?_:_===!0?4:0,typeof f=="string"?k.input=s.string2buf(f):m.call(f)==="[object ArrayBuffer]"?k.input=new Uint8Array(f):k.input=f,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new i.Buf8(E),k.next_out=0,k.avail_out=E),(v=r.deflate(k,S))!==1&&v!==p)return this.onEnd(v),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(i.shrinkBuf(k.output,k.next_out))):this.onData(i.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&v!==1);return S===4?(v=r.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===p):S!==2||(this.onEnd(p),!(k.avail_out=0))},u.prototype.onData=function(f){this.chunks.push(f)},u.prototype.onEnd=function(f){f===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},n.Deflate=u,n.deflate=g,n.deflateRaw=function(f,_){return(_=_||{}).raw=!0,g(f,_)},n.gzip=function(f,_){return(_=_||{}).gzip=!0,g(f,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,n){"use strict";var r=t("./zlib/inflate"),i=t("./utils/common"),s=t("./utils/strings"),a=t("./zlib/constants"),l=t("./zlib/messages"),m=t("./zlib/zstream"),p=t("./zlib/gzheader"),y=Object.prototype.toString;function c(u){if(!(this instanceof c))return new c(u);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},u||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||u&&u.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var f=r.inflateInit2(this.strm,g.windowBits);if(f!==a.Z_OK)throw new Error(l[f]);this.header=new p,r.inflateGetHeader(this.strm,this.header)}function d(u,g){var f=new c(g);if(f.push(u,!0),f.err)throw f.msg||l[f.err];return f.result}c.prototype.push=function(u,g){var f,_,v,S,k,E,C=this.strm,R=this.options.chunkSize,A=this.options.dictionary,F=!1;if(this.ended)return!1;_=g===~~g?g:g===!0?a.Z_FINISH:a.Z_NO_FLUSH,typeof u=="string"?C.input=s.binstring2buf(u):y.call(u)==="[object ArrayBuffer]"?C.input=new Uint8Array(u):C.input=u,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new i.Buf8(R),C.next_out=0,C.avail_out=R),(f=r.inflate(C,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&A&&(E=typeof A=="string"?s.string2buf(A):y.call(A)==="[object ArrayBuffer]"?new Uint8Array(A):A,f=r.inflateSetDictionary(this.strm,E)),f===a.Z_BUF_ERROR&&F===!0&&(f=a.Z_OK,F=!1),f!==a.Z_STREAM_END&&f!==a.Z_OK)return this.onEnd(f),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&f!==a.Z_STREAM_END&&(C.avail_in!==0||_!==a.Z_FINISH&&_!==a.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=s.utf8border(C.output,C.next_out),S=C.next_out-v,k=s.buf2string(C.output,v),C.next_out=S,C.avail_out=R-S,S&&i.arraySet(C.output,C.output,v,S,0),this.onData(k)):this.onData(i.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(F=!0)}while((0<C.avail_in||C.avail_out===0)&&f!==a.Z_STREAM_END);return f===a.Z_STREAM_END&&(_=a.Z_FINISH),_===a.Z_FINISH?(f=r.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===a.Z_OK):_!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(C.avail_out=0))},c.prototype.onData=function(u){this.chunks.push(u)},c.prototype.onEnd=function(u){u===a.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},n.Inflate=c,n.inflate=d,n.inflateRaw=function(u,g){return(g=g||{}).raw=!0,d(u,g)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,n){"use strict";var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(a){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var m=l.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var p in m)m.hasOwnProperty(p)&&(a[p]=m[p])}}return a},n.shrinkBuf=function(a,l){return a.length===l?a:a.subarray?a.subarray(0,l):(a.length=l,a)};var i={arraySet:function(a,l,m,p,y){if(l.subarray&&a.subarray)a.set(l.subarray(m,m+p),y);else for(var c=0;c<p;c++)a[y+c]=l[m+c]},flattenChunks:function(a){var l,m,p,y,c,d;for(l=p=0,m=a.length;l<m;l++)p+=a[l].length;for(d=new Uint8Array(p),l=y=0,m=a.length;l<m;l++)c=a[l],d.set(c,y),y+=c.length;return d}},s={arraySet:function(a,l,m,p,y){for(var c=0;c<p;c++)a[y+c]=l[m+c]},flattenChunks:function(a){return[].concat.apply([],a)}};n.setTyped=function(a){a?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],42:[function(t,e,n){"use strict";var r=t("./common"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var a=new r.Buf8(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function m(p,y){if(y<65537&&(p.subarray&&s||!p.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(p,y));for(var c="",d=0;d<y;d++)c+=String.fromCharCode(p[d]);return c}a[254]=a[254]=1,n.string2buf=function(p){var y,c,d,u,g,f=p.length,_=0;for(u=0;u<f;u++)(64512&(c=p.charCodeAt(u)))==55296&&u+1<f&&(64512&(d=p.charCodeAt(u+1)))==56320&&(c=65536+(c-55296<<10)+(d-56320),u++),_+=c<128?1:c<2048?2:c<65536?3:4;for(y=new r.Buf8(_),u=g=0;g<_;u++)(64512&(c=p.charCodeAt(u)))==55296&&u+1<f&&(64512&(d=p.charCodeAt(u+1)))==56320&&(c=65536+(c-55296<<10)+(d-56320),u++),c<128?y[g++]=c:(c<2048?y[g++]=192|c>>>6:(c<65536?y[g++]=224|c>>>12:(y[g++]=240|c>>>18,y[g++]=128|c>>>12&63),y[g++]=128|c>>>6&63),y[g++]=128|63&c);return y},n.buf2binstring=function(p){return m(p,p.length)},n.binstring2buf=function(p){for(var y=new r.Buf8(p.length),c=0,d=y.length;c<d;c++)y[c]=p.charCodeAt(c);return y},n.buf2string=function(p,y){var c,d,u,g,f=y||p.length,_=new Array(2*f);for(c=d=0;c<f;)if((u=p[c++])<128)_[d++]=u;else if(4<(g=a[u]))_[d++]=65533,c+=g-1;else{for(u&=g===2?31:g===3?15:7;1<g&&c<f;)u=u<<6|63&p[c++],g--;1<g?_[d++]=65533:u<65536?_[d++]=u:(u-=65536,_[d++]=55296|u>>10&1023,_[d++]=56320|1023&u)}return m(_,d)},n.utf8border=function(p,y){var c;for((y=y||p.length)>p.length&&(y=p.length),c=y-1;0<=c&&(192&p[c])==128;)c--;return c<0||c===0?y:c+a[p[c]]>y?c:y}},{"./common":41}],43:[function(t,e,n){"use strict";e.exports=function(r,i,s,a){for(var l=65535&r|0,m=r>>>16&65535|0,p=0;s!==0;){for(s-=p=2e3<s?2e3:s;m=m+(l=l+i[a++]|0)|0,--p;);l%=65521,m%=65521}return l|m<<16|0}},{}],44:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,n){"use strict";var r=function(){for(var i,s=[],a=0;a<256;a++){i=a;for(var l=0;l<8;l++)i=1&i?3988292384^i>>>1:i>>>1;s[a]=i}return s}();e.exports=function(i,s,a,l){var m=r,p=l+a;i^=-1;for(var y=l;y<p;y++)i=i>>>8^m[255&(i^s[y])];return-1^i}},{}],46:[function(t,e,n){"use strict";var r,i=t("../utils/common"),s=t("./trees"),a=t("./adler32"),l=t("./crc32"),m=t("./messages"),p=0,y=4,c=0,d=-2,u=-1,g=4,f=2,_=8,v=9,S=286,k=30,E=19,C=2*S+1,R=15,A=3,F=258,L=F+A+1,x=42,T=113,h=1,P=2,Y=3,K=4;function J(o,M){return o.msg=m[M],M}function j(o){return(o<<1)-(4<o?9:0)}function Q(o){for(var M=o.length;0<=--M;)o[M]=0}function z(o){var M=o.state,B=M.pending;B>o.avail_out&&(B=o.avail_out),B!==0&&(i.arraySet(o.output,M.pending_buf,M.pending_out,B,o.next_out),o.next_out+=B,M.pending_out+=B,o.total_out+=B,o.avail_out-=B,M.pending-=B,M.pending===0&&(M.pending_out=0))}function O(o,M){s._tr_flush_block(o,0<=o.block_start?o.block_start:-1,o.strstart-o.block_start,M),o.block_start=o.strstart,z(o.strm)}function X(o,M){o.pending_buf[o.pending++]=M}function H(o,M){o.pending_buf[o.pending++]=M>>>8&255,o.pending_buf[o.pending++]=255&M}function V(o,M){var B,w,b=o.max_chain_length,I=o.strstart,N=o.prev_length,U=o.nice_match,D=o.strstart>o.w_size-L?o.strstart-(o.w_size-L):0,W=o.window,$=o.w_mask,Z=o.prev,tt=o.strstart+F,at=W[I+N-1],rt=W[I+N];o.prev_length>=o.good_match&&(b>>=2),U>o.lookahead&&(U=o.lookahead);do if(W[(B=M)+N]===rt&&W[B+N-1]===at&&W[B]===W[I]&&W[++B]===W[I+1]){I+=2,B++;do;while(W[++I]===W[++B]&&W[++I]===W[++B]&&W[++I]===W[++B]&&W[++I]===W[++B]&&W[++I]===W[++B]&&W[++I]===W[++B]&&W[++I]===W[++B]&&W[++I]===W[++B]&&I<tt);if(w=F-(tt-I),I=tt-F,N<w){if(o.match_start=M,U<=(N=w))break;at=W[I+N-1],rt=W[I+N]}}while((M=Z[M&$])>D&&--b!=0);return N<=o.lookahead?N:o.lookahead}function lt(o){var M,B,w,b,I,N,U,D,W,$,Z=o.w_size;do{if(b=o.window_size-o.lookahead-o.strstart,o.strstart>=Z+(Z-L)){for(i.arraySet(o.window,o.window,Z,Z,0),o.match_start-=Z,o.strstart-=Z,o.block_start-=Z,M=B=o.hash_size;w=o.head[--M],o.head[M]=Z<=w?w-Z:0,--B;);for(M=B=Z;w=o.prev[--M],o.prev[M]=Z<=w?w-Z:0,--B;);b+=Z}if(o.strm.avail_in===0)break;if(N=o.strm,U=o.window,D=o.strstart+o.lookahead,W=b,$=void 0,$=N.avail_in,W<$&&($=W),B=$===0?0:(N.avail_in-=$,i.arraySet(U,N.input,N.next_in,$,D),N.state.wrap===1?N.adler=a(N.adler,U,$,D):N.state.wrap===2&&(N.adler=l(N.adler,U,$,D)),N.next_in+=$,N.total_in+=$,$),o.lookahead+=B,o.lookahead+o.insert>=A)for(I=o.strstart-o.insert,o.ins_h=o.window[I],o.ins_h=(o.ins_h<<o.hash_shift^o.window[I+1])&o.hash_mask;o.insert&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[I+A-1])&o.hash_mask,o.prev[I&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=I,I++,o.insert--,!(o.lookahead+o.insert<A)););}while(o.lookahead<L&&o.strm.avail_in!==0)}function gt(o,M){for(var B,w;;){if(o.lookahead<L){if(lt(o),o.lookahead<L&&M===p)return h;if(o.lookahead===0)break}if(B=0,o.lookahead>=A&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+A-1])&o.hash_mask,B=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),B!==0&&o.strstart-B<=o.w_size-L&&(o.match_length=V(o,B)),o.match_length>=A)if(w=s._tr_tally(o,o.strstart-o.match_start,o.match_length-A),o.lookahead-=o.match_length,o.match_length<=o.max_lazy_match&&o.lookahead>=A){for(o.match_length--;o.strstart++,o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+A-1])&o.hash_mask,B=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart,--o.match_length!=0;);o.strstart++}else o.strstart+=o.match_length,o.match_length=0,o.ins_h=o.window[o.strstart],o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+1])&o.hash_mask;else w=s._tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++;if(w&&(O(o,!1),o.strm.avail_out===0))return h}return o.insert=o.strstart<A-1?o.strstart:A-1,M===y?(O(o,!0),o.strm.avail_out===0?Y:K):o.last_lit&&(O(o,!1),o.strm.avail_out===0)?h:P}function nt(o,M){for(var B,w,b;;){if(o.lookahead<L){if(lt(o),o.lookahead<L&&M===p)return h;if(o.lookahead===0)break}if(B=0,o.lookahead>=A&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+A-1])&o.hash_mask,B=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),o.prev_length=o.match_length,o.prev_match=o.match_start,o.match_length=A-1,B!==0&&o.prev_length<o.max_lazy_match&&o.strstart-B<=o.w_size-L&&(o.match_length=V(o,B),o.match_length<=5&&(o.strategy===1||o.match_length===A&&4096<o.strstart-o.match_start)&&(o.match_length=A-1)),o.prev_length>=A&&o.match_length<=o.prev_length){for(b=o.strstart+o.lookahead-A,w=s._tr_tally(o,o.strstart-1-o.prev_match,o.prev_length-A),o.lookahead-=o.prev_length-1,o.prev_length-=2;++o.strstart<=b&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+A-1])&o.hash_mask,B=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),--o.prev_length!=0;);if(o.match_available=0,o.match_length=A-1,o.strstart++,w&&(O(o,!1),o.strm.avail_out===0))return h}else if(o.match_available){if((w=s._tr_tally(o,0,o.window[o.strstart-1]))&&O(o,!1),o.strstart++,o.lookahead--,o.strm.avail_out===0)return h}else o.match_available=1,o.strstart++,o.lookahead--}return o.match_available&&(w=s._tr_tally(o,0,o.window[o.strstart-1]),o.match_available=0),o.insert=o.strstart<A-1?o.strstart:A-1,M===y?(O(o,!0),o.strm.avail_out===0?Y:K):o.last_lit&&(O(o,!1),o.strm.avail_out===0)?h:P}function it(o,M,B,w,b){this.good_length=o,this.max_lazy=M,this.nice_length=B,this.max_chain=w,this.func=b}function pt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*C),this.dyn_dtree=new i.Buf16(2*(2*k+1)),this.bl_tree=new i.Buf16(2*(2*E+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(R+1),this.heap=new i.Buf16(2*S+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*S+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ct(o){var M;return o&&o.state?(o.total_in=o.total_out=0,o.data_type=f,(M=o.state).pending=0,M.pending_out=0,M.wrap<0&&(M.wrap=-M.wrap),M.status=M.wrap?x:T,o.adler=M.wrap===2?0:1,M.last_flush=p,s._tr_init(M),c):J(o,d)}function Ct(o){var M=ct(o);return M===c&&function(B){B.window_size=2*B.w_size,Q(B.head),B.max_lazy_match=r[B.level].max_lazy,B.good_match=r[B.level].good_length,B.nice_match=r[B.level].nice_length,B.max_chain_length=r[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=A-1,B.match_available=0,B.ins_h=0}(o.state),M}function St(o,M,B,w,b,I){if(!o)return d;var N=1;if(M===u&&(M=6),w<0?(N=0,w=-w):15<w&&(N=2,w-=16),b<1||v<b||B!==_||w<8||15<w||M<0||9<M||I<0||g<I)return J(o,d);w===8&&(w=9);var U=new pt;return(o.state=U).strm=o,U.wrap=N,U.gzhead=null,U.w_bits=w,U.w_size=1<<U.w_bits,U.w_mask=U.w_size-1,U.hash_bits=b+7,U.hash_size=1<<U.hash_bits,U.hash_mask=U.hash_size-1,U.hash_shift=~~((U.hash_bits+A-1)/A),U.window=new i.Buf8(2*U.w_size),U.head=new i.Buf16(U.hash_size),U.prev=new i.Buf16(U.w_size),U.lit_bufsize=1<<b+6,U.pending_buf_size=4*U.lit_bufsize,U.pending_buf=new i.Buf8(U.pending_buf_size),U.d_buf=1*U.lit_bufsize,U.l_buf=3*U.lit_bufsize,U.level=M,U.strategy=I,U.method=B,Ct(o)}r=[new it(0,0,0,0,function(o,M){var B=65535;for(B>o.pending_buf_size-5&&(B=o.pending_buf_size-5);;){if(o.lookahead<=1){if(lt(o),o.lookahead===0&&M===p)return h;if(o.lookahead===0)break}o.strstart+=o.lookahead,o.lookahead=0;var w=o.block_start+B;if((o.strstart===0||o.strstart>=w)&&(o.lookahead=o.strstart-w,o.strstart=w,O(o,!1),o.strm.avail_out===0)||o.strstart-o.block_start>=o.w_size-L&&(O(o,!1),o.strm.avail_out===0))return h}return o.insert=0,M===y?(O(o,!0),o.strm.avail_out===0?Y:K):(o.strstart>o.block_start&&(O(o,!1),o.strm.avail_out),h)}),new it(4,4,8,4,gt),new it(4,5,16,8,gt),new it(4,6,32,32,gt),new it(4,4,16,16,nt),new it(8,16,32,32,nt),new it(8,16,128,128,nt),new it(8,32,128,256,nt),new it(32,128,258,1024,nt),new it(32,258,258,4096,nt)],n.deflateInit=function(o,M){return St(o,M,_,15,8,0)},n.deflateInit2=St,n.deflateReset=Ct,n.deflateResetKeep=ct,n.deflateSetHeader=function(o,M){return o&&o.state?o.state.wrap!==2?d:(o.state.gzhead=M,c):d},n.deflate=function(o,M){var B,w,b,I;if(!o||!o.state||5<M||M<0)return o?J(o,d):d;if(w=o.state,!o.output||!o.input&&o.avail_in!==0||w.status===666&&M!==y)return J(o,o.avail_out===0?-5:d);if(w.strm=o,B=w.last_flush,w.last_flush=M,w.status===x)if(w.wrap===2)o.adler=0,X(w,31),X(w,139),X(w,8),w.gzhead?(X(w,(w.gzhead.text?1:0)+(w.gzhead.hcrc?2:0)+(w.gzhead.extra?4:0)+(w.gzhead.name?8:0)+(w.gzhead.comment?16:0)),X(w,255&w.gzhead.time),X(w,w.gzhead.time>>8&255),X(w,w.gzhead.time>>16&255),X(w,w.gzhead.time>>24&255),X(w,w.level===9?2:2<=w.strategy||w.level<2?4:0),X(w,255&w.gzhead.os),w.gzhead.extra&&w.gzhead.extra.length&&(X(w,255&w.gzhead.extra.length),X(w,w.gzhead.extra.length>>8&255)),w.gzhead.hcrc&&(o.adler=l(o.adler,w.pending_buf,w.pending,0)),w.gzindex=0,w.status=69):(X(w,0),X(w,0),X(w,0),X(w,0),X(w,0),X(w,w.level===9?2:2<=w.strategy||w.level<2?4:0),X(w,3),w.status=T);else{var N=_+(w.w_bits-8<<4)<<8;N|=(2<=w.strategy||w.level<2?0:w.level<6?1:w.level===6?2:3)<<6,w.strstart!==0&&(N|=32),N+=31-N%31,w.status=T,H(w,N),w.strstart!==0&&(H(w,o.adler>>>16),H(w,65535&o.adler)),o.adler=1}if(w.status===69)if(w.gzhead.extra){for(b=w.pending;w.gzindex<(65535&w.gzhead.extra.length)&&(w.pending!==w.pending_buf_size||(w.gzhead.hcrc&&w.pending>b&&(o.adler=l(o.adler,w.pending_buf,w.pending-b,b)),z(o),b=w.pending,w.pending!==w.pending_buf_size));)X(w,255&w.gzhead.extra[w.gzindex]),w.gzindex++;w.gzhead.hcrc&&w.pending>b&&(o.adler=l(o.adler,w.pending_buf,w.pending-b,b)),w.gzindex===w.gzhead.extra.length&&(w.gzindex=0,w.status=73)}else w.status=73;if(w.status===73)if(w.gzhead.name){b=w.pending;do{if(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>b&&(o.adler=l(o.adler,w.pending_buf,w.pending-b,b)),z(o),b=w.pending,w.pending===w.pending_buf_size)){I=1;break}I=w.gzindex<w.gzhead.name.length?255&w.gzhead.name.charCodeAt(w.gzindex++):0,X(w,I)}while(I!==0);w.gzhead.hcrc&&w.pending>b&&(o.adler=l(o.adler,w.pending_buf,w.pending-b,b)),I===0&&(w.gzindex=0,w.status=91)}else w.status=91;if(w.status===91)if(w.gzhead.comment){b=w.pending;do{if(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>b&&(o.adler=l(o.adler,w.pending_buf,w.pending-b,b)),z(o),b=w.pending,w.pending===w.pending_buf_size)){I=1;break}I=w.gzindex<w.gzhead.comment.length?255&w.gzhead.comment.charCodeAt(w.gzindex++):0,X(w,I)}while(I!==0);w.gzhead.hcrc&&w.pending>b&&(o.adler=l(o.adler,w.pending_buf,w.pending-b,b)),I===0&&(w.status=103)}else w.status=103;if(w.status===103&&(w.gzhead.hcrc?(w.pending+2>w.pending_buf_size&&z(o),w.pending+2<=w.pending_buf_size&&(X(w,255&o.adler),X(w,o.adler>>8&255),o.adler=0,w.status=T)):w.status=T),w.pending!==0){if(z(o),o.avail_out===0)return w.last_flush=-1,c}else if(o.avail_in===0&&j(M)<=j(B)&&M!==y)return J(o,-5);if(w.status===666&&o.avail_in!==0)return J(o,-5);if(o.avail_in!==0||w.lookahead!==0||M!==p&&w.status!==666){var U=w.strategy===2?function(D,W){for(var $;;){if(D.lookahead===0&&(lt(D),D.lookahead===0)){if(W===p)return h;break}if(D.match_length=0,$=s._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++,$&&(O(D,!1),D.strm.avail_out===0))return h}return D.insert=0,W===y?(O(D,!0),D.strm.avail_out===0?Y:K):D.last_lit&&(O(D,!1),D.strm.avail_out===0)?h:P}(w,M):w.strategy===3?function(D,W){for(var $,Z,tt,at,rt=D.window;;){if(D.lookahead<=F){if(lt(D),D.lookahead<=F&&W===p)return h;if(D.lookahead===0)break}if(D.match_length=0,D.lookahead>=A&&0<D.strstart&&(Z=rt[tt=D.strstart-1])===rt[++tt]&&Z===rt[++tt]&&Z===rt[++tt]){at=D.strstart+F;do;while(Z===rt[++tt]&&Z===rt[++tt]&&Z===rt[++tt]&&Z===rt[++tt]&&Z===rt[++tt]&&Z===rt[++tt]&&Z===rt[++tt]&&Z===rt[++tt]&&tt<at);D.match_length=F-(at-tt),D.match_length>D.lookahead&&(D.match_length=D.lookahead)}if(D.match_length>=A?($=s._tr_tally(D,1,D.match_length-A),D.lookahead-=D.match_length,D.strstart+=D.match_length,D.match_length=0):($=s._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++),$&&(O(D,!1),D.strm.avail_out===0))return h}return D.insert=0,W===y?(O(D,!0),D.strm.avail_out===0?Y:K):D.last_lit&&(O(D,!1),D.strm.avail_out===0)?h:P}(w,M):r[w.level].func(w,M);if(U!==Y&&U!==K||(w.status=666),U===h||U===Y)return o.avail_out===0&&(w.last_flush=-1),c;if(U===P&&(M===1?s._tr_align(w):M!==5&&(s._tr_stored_block(w,0,0,!1),M===3&&(Q(w.head),w.lookahead===0&&(w.strstart=0,w.block_start=0,w.insert=0))),z(o),o.avail_out===0))return w.last_flush=-1,c}return M!==y?c:w.wrap<=0?1:(w.wrap===2?(X(w,255&o.adler),X(w,o.adler>>8&255),X(w,o.adler>>16&255),X(w,o.adler>>24&255),X(w,255&o.total_in),X(w,o.total_in>>8&255),X(w,o.total_in>>16&255),X(w,o.total_in>>24&255)):(H(w,o.adler>>>16),H(w,65535&o.adler)),z(o),0<w.wrap&&(w.wrap=-w.wrap),w.pending!==0?c:1)},n.deflateEnd=function(o){var M;return o&&o.state?(M=o.state.status)!==x&&M!==69&&M!==73&&M!==91&&M!==103&&M!==T&&M!==666?J(o,d):(o.state=null,M===T?J(o,-3):c):d},n.deflateSetDictionary=function(o,M){var B,w,b,I,N,U,D,W,$=M.length;if(!o||!o.state||(I=(B=o.state).wrap)===2||I===1&&B.status!==x||B.lookahead)return d;for(I===1&&(o.adler=a(o.adler,M,$,0)),B.wrap=0,$>=B.w_size&&(I===0&&(Q(B.head),B.strstart=0,B.block_start=0,B.insert=0),W=new i.Buf8(B.w_size),i.arraySet(W,M,$-B.w_size,B.w_size,0),M=W,$=B.w_size),N=o.avail_in,U=o.next_in,D=o.input,o.avail_in=$,o.next_in=0,o.input=M,lt(B);B.lookahead>=A;){for(w=B.strstart,b=B.lookahead-(A-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[w+A-1])&B.hash_mask,B.prev[w&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=w,w++,--b;);B.strstart=w,B.lookahead=A-1,lt(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=A-1,B.match_available=0,o.next_in=U,o.input=D,o.avail_in=N,B.wrap=I,c},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,n){"use strict";e.exports=function(r,i){var s,a,l,m,p,y,c,d,u,g,f,_,v,S,k,E,C,R,A,F,L,x,T,h,P;s=r.state,a=r.next_in,h=r.input,l=a+(r.avail_in-5),m=r.next_out,P=r.output,p=m-(i-r.avail_out),y=m+(r.avail_out-257),c=s.dmax,d=s.wsize,u=s.whave,g=s.wnext,f=s.window,_=s.hold,v=s.bits,S=s.lencode,k=s.distcode,E=(1<<s.lenbits)-1,C=(1<<s.distbits)-1;t:do{v<15&&(_+=h[a++]<<v,v+=8,_+=h[a++]<<v,v+=8),R=S[_&E];e:for(;;){if(_>>>=A=R>>>24,v-=A,(A=R>>>16&255)===0)P[m++]=65535&R;else{if(!(16&A)){if((64&A)==0){R=S[(65535&R)+(_&(1<<A)-1)];continue e}if(32&A){s.mode=12;break t}r.msg="invalid literal/length code",s.mode=30;break t}F=65535&R,(A&=15)&&(v<A&&(_+=h[a++]<<v,v+=8),F+=_&(1<<A)-1,_>>>=A,v-=A),v<15&&(_+=h[a++]<<v,v+=8,_+=h[a++]<<v,v+=8),R=k[_&C];n:for(;;){if(_>>>=A=R>>>24,v-=A,!(16&(A=R>>>16&255))){if((64&A)==0){R=k[(65535&R)+(_&(1<<A)-1)];continue n}r.msg="invalid distance code",s.mode=30;break t}if(L=65535&R,v<(A&=15)&&(_+=h[a++]<<v,(v+=8)<A&&(_+=h[a++]<<v,v+=8)),c<(L+=_&(1<<A)-1)){r.msg="invalid distance too far back",s.mode=30;break t}if(_>>>=A,v-=A,(A=m-p)<L){if(u<(A=L-A)&&s.sane){r.msg="invalid distance too far back",s.mode=30;break t}if(T=f,(x=0)===g){if(x+=d-A,A<F){for(F-=A;P[m++]=f[x++],--A;);x=m-L,T=P}}else if(g<A){if(x+=d+g-A,(A-=g)<F){for(F-=A;P[m++]=f[x++],--A;);if(x=0,g<F){for(F-=A=g;P[m++]=f[x++],--A;);x=m-L,T=P}}}else if(x+=g-A,A<F){for(F-=A;P[m++]=f[x++],--A;);x=m-L,T=P}for(;2<F;)P[m++]=T[x++],P[m++]=T[x++],P[m++]=T[x++],F-=3;F&&(P[m++]=T[x++],1<F&&(P[m++]=T[x++]))}else{for(x=m-L;P[m++]=P[x++],P[m++]=P[x++],P[m++]=P[x++],2<(F-=3););F&&(P[m++]=P[x++],1<F&&(P[m++]=P[x++]))}break}}break}}while(a<l&&m<y);a-=F=v>>3,_&=(1<<(v-=F<<3))-1,r.next_in=a,r.next_out=m,r.avail_in=a<l?l-a+5:5-(a-l),r.avail_out=m<y?y-m+257:257-(m-y),s.hold=_,s.bits=v}},{}],49:[function(t,e,n){"use strict";var r=t("../utils/common"),i=t("./adler32"),s=t("./crc32"),a=t("./inffast"),l=t("./inftrees"),m=1,p=2,y=0,c=-2,d=1,u=852,g=592;function f(x){return(x>>>24&255)+(x>>>8&65280)+((65280&x)<<8)+((255&x)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(x){var T;return x&&x.state?(T=x.state,x.total_in=x.total_out=T.total=0,x.msg="",T.wrap&&(x.adler=1&T.wrap),T.mode=d,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new r.Buf32(u),T.distcode=T.distdyn=new r.Buf32(g),T.sane=1,T.back=-1,y):c}function S(x){var T;return x&&x.state?((T=x.state).wsize=0,T.whave=0,T.wnext=0,v(x)):c}function k(x,T){var h,P;return x&&x.state?(P=x.state,T<0?(h=0,T=-T):(h=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?c:(P.window!==null&&P.wbits!==T&&(P.window=null),P.wrap=h,P.wbits=T,S(x))):c}function E(x,T){var h,P;return x?(P=new _,(x.state=P).window=null,(h=k(x,T))!==y&&(x.state=null),h):c}var C,R,A=!0;function F(x){if(A){var T;for(C=new r.Buf32(512),R=new r.Buf32(32),T=0;T<144;)x.lens[T++]=8;for(;T<256;)x.lens[T++]=9;for(;T<280;)x.lens[T++]=7;for(;T<288;)x.lens[T++]=8;for(l(m,x.lens,0,288,C,0,x.work,{bits:9}),T=0;T<32;)x.lens[T++]=5;l(p,x.lens,0,32,R,0,x.work,{bits:5}),A=!1}x.lencode=C,x.lenbits=9,x.distcode=R,x.distbits=5}function L(x,T,h,P){var Y,K=x.state;return K.window===null&&(K.wsize=1<<K.wbits,K.wnext=0,K.whave=0,K.window=new r.Buf8(K.wsize)),P>=K.wsize?(r.arraySet(K.window,T,h-K.wsize,K.wsize,0),K.wnext=0,K.whave=K.wsize):(P<(Y=K.wsize-K.wnext)&&(Y=P),r.arraySet(K.window,T,h-P,Y,K.wnext),(P-=Y)?(r.arraySet(K.window,T,h-P,P,0),K.wnext=P,K.whave=K.wsize):(K.wnext+=Y,K.wnext===K.wsize&&(K.wnext=0),K.whave<K.wsize&&(K.whave+=Y))),0}n.inflateReset=S,n.inflateReset2=k,n.inflateResetKeep=v,n.inflateInit=function(x){return E(x,15)},n.inflateInit2=E,n.inflate=function(x,T){var h,P,Y,K,J,j,Q,z,O,X,H,V,lt,gt,nt,it,pt,ct,Ct,St,o,M,B,w,b=0,I=new r.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!x||!x.state||!x.output||!x.input&&x.avail_in!==0)return c;(h=x.state).mode===12&&(h.mode=13),J=x.next_out,Y=x.output,Q=x.avail_out,K=x.next_in,P=x.input,j=x.avail_in,z=h.hold,O=h.bits,X=j,H=Q,M=y;t:for(;;)switch(h.mode){case d:if(h.wrap===0){h.mode=13;break}for(;O<16;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}if(2&h.wrap&&z===35615){I[h.check=0]=255&z,I[1]=z>>>8&255,h.check=s(h.check,I,2,0),O=z=0,h.mode=2;break}if(h.flags=0,h.head&&(h.head.done=!1),!(1&h.wrap)||(((255&z)<<8)+(z>>8))%31){x.msg="incorrect header check",h.mode=30;break}if((15&z)!=8){x.msg="unknown compression method",h.mode=30;break}if(O-=4,o=8+(15&(z>>>=4)),h.wbits===0)h.wbits=o;else if(o>h.wbits){x.msg="invalid window size",h.mode=30;break}h.dmax=1<<o,x.adler=h.check=1,h.mode=512&z?10:12,O=z=0;break;case 2:for(;O<16;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}if(h.flags=z,(255&h.flags)!=8){x.msg="unknown compression method",h.mode=30;break}if(57344&h.flags){x.msg="unknown header flags set",h.mode=30;break}h.head&&(h.head.text=z>>8&1),512&h.flags&&(I[0]=255&z,I[1]=z>>>8&255,h.check=s(h.check,I,2,0)),O=z=0,h.mode=3;case 3:for(;O<32;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}h.head&&(h.head.time=z),512&h.flags&&(I[0]=255&z,I[1]=z>>>8&255,I[2]=z>>>16&255,I[3]=z>>>24&255,h.check=s(h.check,I,4,0)),O=z=0,h.mode=4;case 4:for(;O<16;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}h.head&&(h.head.xflags=255&z,h.head.os=z>>8),512&h.flags&&(I[0]=255&z,I[1]=z>>>8&255,h.check=s(h.check,I,2,0)),O=z=0,h.mode=5;case 5:if(1024&h.flags){for(;O<16;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}h.length=z,h.head&&(h.head.extra_len=z),512&h.flags&&(I[0]=255&z,I[1]=z>>>8&255,h.check=s(h.check,I,2,0)),O=z=0}else h.head&&(h.head.extra=null);h.mode=6;case 6:if(1024&h.flags&&(j<(V=h.length)&&(V=j),V&&(h.head&&(o=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Array(h.head.extra_len)),r.arraySet(h.head.extra,P,K,V,o)),512&h.flags&&(h.check=s(h.check,P,V,K)),j-=V,K+=V,h.length-=V),h.length))break t;h.length=0,h.mode=7;case 7:if(2048&h.flags){if(j===0)break t;for(V=0;o=P[K+V++],h.head&&o&&h.length<65536&&(h.head.name+=String.fromCharCode(o)),o&&V<j;);if(512&h.flags&&(h.check=s(h.check,P,V,K)),j-=V,K+=V,o)break t}else h.head&&(h.head.name=null);h.length=0,h.mode=8;case 8:if(4096&h.flags){if(j===0)break t;for(V=0;o=P[K+V++],h.head&&o&&h.length<65536&&(h.head.comment+=String.fromCharCode(o)),o&&V<j;);if(512&h.flags&&(h.check=s(h.check,P,V,K)),j-=V,K+=V,o)break t}else h.head&&(h.head.comment=null);h.mode=9;case 9:if(512&h.flags){for(;O<16;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}if(z!==(65535&h.check)){x.msg="header crc mismatch",h.mode=30;break}O=z=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),x.adler=h.check=0,h.mode=12;break;case 10:for(;O<32;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}x.adler=h.check=f(z),O=z=0,h.mode=11;case 11:if(h.havedict===0)return x.next_out=J,x.avail_out=Q,x.next_in=K,x.avail_in=j,h.hold=z,h.bits=O,2;x.adler=h.check=1,h.mode=12;case 12:if(T===5||T===6)break t;case 13:if(h.last){z>>>=7&O,O-=7&O,h.mode=27;break}for(;O<3;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}switch(h.last=1&z,O-=1,3&(z>>>=1)){case 0:h.mode=14;break;case 1:if(F(h),h.mode=20,T!==6)break;z>>>=2,O-=2;break t;case 2:h.mode=17;break;case 3:x.msg="invalid block type",h.mode=30}z>>>=2,O-=2;break;case 14:for(z>>>=7&O,O-=7&O;O<32;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}if((65535&z)!=(z>>>16^65535)){x.msg="invalid stored block lengths",h.mode=30;break}if(h.length=65535&z,O=z=0,h.mode=15,T===6)break t;case 15:h.mode=16;case 16:if(V=h.length){if(j<V&&(V=j),Q<V&&(V=Q),V===0)break t;r.arraySet(Y,P,K,V,J),j-=V,K+=V,Q-=V,J+=V,h.length-=V;break}h.mode=12;break;case 17:for(;O<14;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}if(h.nlen=257+(31&z),z>>>=5,O-=5,h.ndist=1+(31&z),z>>>=5,O-=5,h.ncode=4+(15&z),z>>>=4,O-=4,286<h.nlen||30<h.ndist){x.msg="too many length or distance symbols",h.mode=30;break}h.have=0,h.mode=18;case 18:for(;h.have<h.ncode;){for(;O<3;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}h.lens[N[h.have++]]=7&z,z>>>=3,O-=3}for(;h.have<19;)h.lens[N[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,B={bits:h.lenbits},M=l(0,h.lens,0,19,h.lencode,0,h.work,B),h.lenbits=B.bits,M){x.msg="invalid code lengths set",h.mode=30;break}h.have=0,h.mode=19;case 19:for(;h.have<h.nlen+h.ndist;){for(;it=(b=h.lencode[z&(1<<h.lenbits)-1])>>>16&255,pt=65535&b,!((nt=b>>>24)<=O);){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}if(pt<16)z>>>=nt,O-=nt,h.lens[h.have++]=pt;else{if(pt===16){for(w=nt+2;O<w;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}if(z>>>=nt,O-=nt,h.have===0){x.msg="invalid bit length repeat",h.mode=30;break}o=h.lens[h.have-1],V=3+(3&z),z>>>=2,O-=2}else if(pt===17){for(w=nt+3;O<w;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}O-=nt,o=0,V=3+(7&(z>>>=nt)),z>>>=3,O-=3}else{for(w=nt+7;O<w;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}O-=nt,o=0,V=11+(127&(z>>>=nt)),z>>>=7,O-=7}if(h.have+V>h.nlen+h.ndist){x.msg="invalid bit length repeat",h.mode=30;break}for(;V--;)h.lens[h.have++]=o}}if(h.mode===30)break;if(h.lens[256]===0){x.msg="invalid code -- missing end-of-block",h.mode=30;break}if(h.lenbits=9,B={bits:h.lenbits},M=l(m,h.lens,0,h.nlen,h.lencode,0,h.work,B),h.lenbits=B.bits,M){x.msg="invalid literal/lengths set",h.mode=30;break}if(h.distbits=6,h.distcode=h.distdyn,B={bits:h.distbits},M=l(p,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,B),h.distbits=B.bits,M){x.msg="invalid distances set",h.mode=30;break}if(h.mode=20,T===6)break t;case 20:h.mode=21;case 21:if(6<=j&&258<=Q){x.next_out=J,x.avail_out=Q,x.next_in=K,x.avail_in=j,h.hold=z,h.bits=O,a(x,H),J=x.next_out,Y=x.output,Q=x.avail_out,K=x.next_in,P=x.input,j=x.avail_in,z=h.hold,O=h.bits,h.mode===12&&(h.back=-1);break}for(h.back=0;it=(b=h.lencode[z&(1<<h.lenbits)-1])>>>16&255,pt=65535&b,!((nt=b>>>24)<=O);){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}if(it&&(240&it)==0){for(ct=nt,Ct=it,St=pt;it=(b=h.lencode[St+((z&(1<<ct+Ct)-1)>>ct)])>>>16&255,pt=65535&b,!(ct+(nt=b>>>24)<=O);){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}z>>>=ct,O-=ct,h.back+=ct}if(z>>>=nt,O-=nt,h.back+=nt,h.length=pt,it===0){h.mode=26;break}if(32&it){h.back=-1,h.mode=12;break}if(64&it){x.msg="invalid literal/length code",h.mode=30;break}h.extra=15&it,h.mode=22;case 22:if(h.extra){for(w=h.extra;O<w;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}h.length+=z&(1<<h.extra)-1,z>>>=h.extra,O-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=23;case 23:for(;it=(b=h.distcode[z&(1<<h.distbits)-1])>>>16&255,pt=65535&b,!((nt=b>>>24)<=O);){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}if((240&it)==0){for(ct=nt,Ct=it,St=pt;it=(b=h.distcode[St+((z&(1<<ct+Ct)-1)>>ct)])>>>16&255,pt=65535&b,!(ct+(nt=b>>>24)<=O);){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}z>>>=ct,O-=ct,h.back+=ct}if(z>>>=nt,O-=nt,h.back+=nt,64&it){x.msg="invalid distance code",h.mode=30;break}h.offset=pt,h.extra=15&it,h.mode=24;case 24:if(h.extra){for(w=h.extra;O<w;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}h.offset+=z&(1<<h.extra)-1,z>>>=h.extra,O-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){x.msg="invalid distance too far back",h.mode=30;break}h.mode=25;case 25:if(Q===0)break t;if(V=H-Q,h.offset>V){if((V=h.offset-V)>h.whave&&h.sane){x.msg="invalid distance too far back",h.mode=30;break}lt=V>h.wnext?(V-=h.wnext,h.wsize-V):h.wnext-V,V>h.length&&(V=h.length),gt=h.window}else gt=Y,lt=J-h.offset,V=h.length;for(Q<V&&(V=Q),Q-=V,h.length-=V;Y[J++]=gt[lt++],--V;);h.length===0&&(h.mode=21);break;case 26:if(Q===0)break t;Y[J++]=h.length,Q--,h.mode=21;break;case 27:if(h.wrap){for(;O<32;){if(j===0)break t;j--,z|=P[K++]<<O,O+=8}if(H-=Q,x.total_out+=H,h.total+=H,H&&(x.adler=h.check=h.flags?s(h.check,Y,H,J-H):i(h.check,Y,H,J-H)),H=Q,(h.flags?z:f(z))!==h.check){x.msg="incorrect data check",h.mode=30;break}O=z=0}h.mode=28;case 28:if(h.wrap&&h.flags){for(;O<32;){if(j===0)break t;j--,z+=P[K++]<<O,O+=8}if(z!==(4294967295&h.total)){x.msg="incorrect length check",h.mode=30;break}O=z=0}h.mode=29;case 29:M=1;break t;case 30:M=-3;break t;case 31:return-4;case 32:default:return c}return x.next_out=J,x.avail_out=Q,x.next_in=K,x.avail_in=j,h.hold=z,h.bits=O,(h.wsize||H!==x.avail_out&&h.mode<30&&(h.mode<27||T!==4))&&L(x,x.output,x.next_out,H-x.avail_out)?(h.mode=31,-4):(X-=x.avail_in,H-=x.avail_out,x.total_in+=X,x.total_out+=H,h.total+=H,h.wrap&&H&&(x.adler=h.check=h.flags?s(h.check,Y,H,x.next_out-H):i(h.check,Y,H,x.next_out-H)),x.data_type=h.bits+(h.last?64:0)+(h.mode===12?128:0)+(h.mode===20||h.mode===15?256:0),(X==0&&H===0||T===4)&&M===y&&(M=-5),M)},n.inflateEnd=function(x){if(!x||!x.state)return c;var T=x.state;return T.window&&(T.window=null),x.state=null,y},n.inflateGetHeader=function(x,T){var h;return x&&x.state?(2&(h=x.state).wrap)==0?c:((h.head=T).done=!1,y):c},n.inflateSetDictionary=function(x,T){var h,P=T.length;return x&&x.state?(h=x.state).wrap!==0&&h.mode!==11?c:h.mode===11&&i(1,T,P,0)!==h.check?-3:L(x,T,P,P)?(h.mode=31,-4):(h.havedict=1,y):c},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,n){"use strict";var r=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(m,p,y,c,d,u,g,f){var _,v,S,k,E,C,R,A,F,L=f.bits,x=0,T=0,h=0,P=0,Y=0,K=0,J=0,j=0,Q=0,z=0,O=null,X=0,H=new r.Buf16(16),V=new r.Buf16(16),lt=null,gt=0;for(x=0;x<=15;x++)H[x]=0;for(T=0;T<c;T++)H[p[y+T]]++;for(Y=L,P=15;1<=P&&H[P]===0;P--);if(P<Y&&(Y=P),P===0)return d[u++]=20971520,d[u++]=20971520,f.bits=1,0;for(h=1;h<P&&H[h]===0;h++);for(Y<h&&(Y=h),x=j=1;x<=15;x++)if(j<<=1,(j-=H[x])<0)return-1;if(0<j&&(m===0||P!==1))return-1;for(V[1]=0,x=1;x<15;x++)V[x+1]=V[x]+H[x];for(T=0;T<c;T++)p[y+T]!==0&&(g[V[p[y+T]]++]=T);if(C=m===0?(O=lt=g,19):m===1?(O=i,X-=257,lt=s,gt-=257,256):(O=a,lt=l,-1),x=h,E=u,J=T=z=0,S=-1,k=(Q=1<<(K=Y))-1,m===1&&852<Q||m===2&&592<Q)return 1;for(;;){for(R=x-J,F=g[T]<C?(A=0,g[T]):g[T]>C?(A=lt[gt+g[T]],O[X+g[T]]):(A=96,0),_=1<<x-J,h=v=1<<K;d[E+(z>>J)+(v-=_)]=R<<24|A<<16|F|0,v!==0;);for(_=1<<x-1;z&_;)_>>=1;if(_!==0?(z&=_-1,z+=_):z=0,T++,--H[x]==0){if(x===P)break;x=p[y+g[T]]}if(Y<x&&(z&k)!==S){for(J===0&&(J=Y),E+=h,j=1<<(K=x-J);K+J<P&&!((j-=H[K+J])<=0);)K++,j<<=1;if(Q+=1<<K,m===1&&852<Q||m===2&&592<Q)return 1;d[S=z&k]=Y<<24|K<<16|E-u|0}}return z!==0&&(d[E+z]=x-J<<24|64<<16|0),f.bits=Y,0}},{"../utils/common":41}],51:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,n){"use strict";var r=t("../utils/common"),i=0,s=1;function a(b){for(var I=b.length;0<=--I;)b[I]=0}var l=0,m=29,p=256,y=p+1+m,c=30,d=19,u=2*y+1,g=15,f=16,_=7,v=256,S=16,k=17,E=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(2*(y+2));a(L);var x=new Array(2*c);a(x);var T=new Array(512);a(T);var h=new Array(256);a(h);var P=new Array(m);a(P);var Y,K,J,j=new Array(c);function Q(b,I,N,U,D){this.static_tree=b,this.extra_bits=I,this.extra_base=N,this.elems=U,this.max_length=D,this.has_stree=b&&b.length}function z(b,I){this.dyn_tree=b,this.max_code=0,this.stat_desc=I}function O(b){return b<256?T[b]:T[256+(b>>>7)]}function X(b,I){b.pending_buf[b.pending++]=255&I,b.pending_buf[b.pending++]=I>>>8&255}function H(b,I,N){b.bi_valid>f-N?(b.bi_buf|=I<<b.bi_valid&65535,X(b,b.bi_buf),b.bi_buf=I>>f-b.bi_valid,b.bi_valid+=N-f):(b.bi_buf|=I<<b.bi_valid&65535,b.bi_valid+=N)}function V(b,I,N){H(b,N[2*I],N[2*I+1])}function lt(b,I){for(var N=0;N|=1&b,b>>>=1,N<<=1,0<--I;);return N>>>1}function gt(b,I,N){var U,D,W=new Array(g+1),$=0;for(U=1;U<=g;U++)W[U]=$=$+N[U-1]<<1;for(D=0;D<=I;D++){var Z=b[2*D+1];Z!==0&&(b[2*D]=lt(W[Z]++,Z))}}function nt(b){var I;for(I=0;I<y;I++)b.dyn_ltree[2*I]=0;for(I=0;I<c;I++)b.dyn_dtree[2*I]=0;for(I=0;I<d;I++)b.bl_tree[2*I]=0;b.dyn_ltree[2*v]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function it(b){8<b.bi_valid?X(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function pt(b,I,N,U){var D=2*I,W=2*N;return b[D]<b[W]||b[D]===b[W]&&U[I]<=U[N]}function ct(b,I,N){for(var U=b.heap[N],D=N<<1;D<=b.heap_len&&(D<b.heap_len&&pt(I,b.heap[D+1],b.heap[D],b.depth)&&D++,!pt(I,U,b.heap[D],b.depth));)b.heap[N]=b.heap[D],N=D,D<<=1;b.heap[N]=U}function Ct(b,I,N){var U,D,W,$,Z=0;if(b.last_lit!==0)for(;U=b.pending_buf[b.d_buf+2*Z]<<8|b.pending_buf[b.d_buf+2*Z+1],D=b.pending_buf[b.l_buf+Z],Z++,U===0?V(b,D,I):(V(b,(W=h[D])+p+1,I),($=C[W])!==0&&H(b,D-=P[W],$),V(b,W=O(--U),N),($=R[W])!==0&&H(b,U-=j[W],$)),Z<b.last_lit;);V(b,v,I)}function St(b,I){var N,U,D,W=I.dyn_tree,$=I.stat_desc.static_tree,Z=I.stat_desc.has_stree,tt=I.stat_desc.elems,at=-1;for(b.heap_len=0,b.heap_max=u,N=0;N<tt;N++)W[2*N]!==0?(b.heap[++b.heap_len]=at=N,b.depth[N]=0):W[2*N+1]=0;for(;b.heap_len<2;)W[2*(D=b.heap[++b.heap_len]=at<2?++at:0)]=1,b.depth[D]=0,b.opt_len--,Z&&(b.static_len-=$[2*D+1]);for(I.max_code=at,N=b.heap_len>>1;1<=N;N--)ct(b,W,N);for(D=tt;N=b.heap[1],b.heap[1]=b.heap[b.heap_len--],ct(b,W,1),U=b.heap[1],b.heap[--b.heap_max]=N,b.heap[--b.heap_max]=U,W[2*D]=W[2*N]+W[2*U],b.depth[D]=(b.depth[N]>=b.depth[U]?b.depth[N]:b.depth[U])+1,W[2*N+1]=W[2*U+1]=D,b.heap[1]=D++,ct(b,W,1),2<=b.heap_len;);b.heap[--b.heap_max]=b.heap[1],function(rt,xt){var le,At,ce,ft,De,cn,Dt=xt.dyn_tree,cr=xt.max_code,hi=xt.stat_desc.static_tree,di=xt.stat_desc.has_stree,pi=xt.stat_desc.extra_bits,fr=xt.stat_desc.extra_base,fe=xt.stat_desc.max_length,Pe=0;for(ft=0;ft<=g;ft++)rt.bl_count[ft]=0;for(Dt[2*rt.heap[rt.heap_max]+1]=0,le=rt.heap_max+1;le<u;le++)fe<(ft=Dt[2*Dt[2*(At=rt.heap[le])+1]+1]+1)&&(ft=fe,Pe++),Dt[2*At+1]=ft,cr<At||(rt.bl_count[ft]++,De=0,fr<=At&&(De=pi[At-fr]),cn=Dt[2*At],rt.opt_len+=cn*(ft+De),di&&(rt.static_len+=cn*(hi[2*At+1]+De)));if(Pe!==0){do{for(ft=fe-1;rt.bl_count[ft]===0;)ft--;rt.bl_count[ft]--,rt.bl_count[ft+1]+=2,rt.bl_count[fe]--,Pe-=2}while(0<Pe);for(ft=fe;ft!==0;ft--)for(At=rt.bl_count[ft];At!==0;)cr<(ce=rt.heap[--le])||(Dt[2*ce+1]!==ft&&(rt.opt_len+=(ft-Dt[2*ce+1])*Dt[2*ce],Dt[2*ce+1]=ft),At--)}}(b,I),gt(W,at,b.bl_count)}function o(b,I,N){var U,D,W=-1,$=I[1],Z=0,tt=7,at=4;for($===0&&(tt=138,at=3),I[2*(N+1)+1]=65535,U=0;U<=N;U++)D=$,$=I[2*(U+1)+1],++Z<tt&&D===$||(Z<at?b.bl_tree[2*D]+=Z:D!==0?(D!==W&&b.bl_tree[2*D]++,b.bl_tree[2*S]++):Z<=10?b.bl_tree[2*k]++:b.bl_tree[2*E]++,W=D,at=(Z=0)===$?(tt=138,3):D===$?(tt=6,3):(tt=7,4))}function M(b,I,N){var U,D,W=-1,$=I[1],Z=0,tt=7,at=4;for($===0&&(tt=138,at=3),U=0;U<=N;U++)if(D=$,$=I[2*(U+1)+1],!(++Z<tt&&D===$)){if(Z<at)for(;V(b,D,b.bl_tree),--Z!=0;);else D!==0?(D!==W&&(V(b,D,b.bl_tree),Z--),V(b,S,b.bl_tree),H(b,Z-3,2)):Z<=10?(V(b,k,b.bl_tree),H(b,Z-3,3)):(V(b,E,b.bl_tree),H(b,Z-11,7));W=D,at=(Z=0)===$?(tt=138,3):D===$?(tt=6,3):(tt=7,4)}}a(j);var B=!1;function w(b,I,N,U){H(b,(l<<1)+(U?1:0),3),function(D,W,$,Z){it(D),Z&&(X(D,$),X(D,~$)),r.arraySet(D.pending_buf,D.window,W,$,D.pending),D.pending+=$}(b,I,N,!0)}n._tr_init=function(b){B||(function(){var I,N,U,D,W,$=new Array(g+1);for(D=U=0;D<m-1;D++)for(P[D]=U,I=0;I<1<<C[D];I++)h[U++]=D;for(h[U-1]=D,D=W=0;D<16;D++)for(j[D]=W,I=0;I<1<<R[D];I++)T[W++]=D;for(W>>=7;D<c;D++)for(j[D]=W<<7,I=0;I<1<<R[D]-7;I++)T[256+W++]=D;for(N=0;N<=g;N++)$[N]=0;for(I=0;I<=143;)L[2*I+1]=8,I++,$[8]++;for(;I<=255;)L[2*I+1]=9,I++,$[9]++;for(;I<=279;)L[2*I+1]=7,I++,$[7]++;for(;I<=287;)L[2*I+1]=8,I++,$[8]++;for(gt(L,y+1,$),I=0;I<c;I++)x[2*I+1]=5,x[2*I]=lt(I,5);Y=new Q(L,C,p+1,y,g),K=new Q(x,R,0,c,g),J=new Q(new Array(0),A,0,d,_)}(),B=!0),b.l_desc=new z(b.dyn_ltree,Y),b.d_desc=new z(b.dyn_dtree,K),b.bl_desc=new z(b.bl_tree,J),b.bi_buf=0,b.bi_valid=0,nt(b)},n._tr_stored_block=w,n._tr_flush_block=function(b,I,N,U){var D,W,$=0;0<b.level?(b.strm.data_type===2&&(b.strm.data_type=function(Z){var tt,at=4093624447;for(tt=0;tt<=31;tt++,at>>>=1)if(1&at&&Z.dyn_ltree[2*tt]!==0)return i;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return s;for(tt=32;tt<p;tt++)if(Z.dyn_ltree[2*tt]!==0)return s;return i}(b)),St(b,b.l_desc),St(b,b.d_desc),$=function(Z){var tt;for(o(Z,Z.dyn_ltree,Z.l_desc.max_code),o(Z,Z.dyn_dtree,Z.d_desc.max_code),St(Z,Z.bl_desc),tt=d-1;3<=tt&&Z.bl_tree[2*F[tt]+1]===0;tt--);return Z.opt_len+=3*(tt+1)+5+5+4,tt}(b),D=b.opt_len+3+7>>>3,(W=b.static_len+3+7>>>3)<=D&&(D=W)):D=W=N+5,N+4<=D&&I!==-1?w(b,I,N,U):b.strategy===4||W===D?(H(b,2+(U?1:0),3),Ct(b,L,x)):(H(b,4+(U?1:0),3),function(Z,tt,at,rt){var xt;for(H(Z,tt-257,5),H(Z,at-1,5),H(Z,rt-4,4),xt=0;xt<rt;xt++)H(Z,Z.bl_tree[2*F[xt]+1],3);M(Z,Z.dyn_ltree,tt-1),M(Z,Z.dyn_dtree,at-1)}(b,b.l_desc.max_code+1,b.d_desc.max_code+1,$+1),Ct(b,b.dyn_ltree,b.dyn_dtree)),nt(b),U&&it(b)},n._tr_tally=function(b,I,N){return b.pending_buf[b.d_buf+2*b.last_lit]=I>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&I,b.pending_buf[b.l_buf+b.last_lit]=255&N,b.last_lit++,I===0?b.dyn_ltree[2*N]++:(b.matches++,I--,b.dyn_ltree[2*(h[N]+p+1)]++,b.dyn_dtree[2*O(I)]++),b.last_lit===b.lit_bufsize-1},n._tr_align=function(b){H(b,2,3),V(b,v,L),function(I){I.bi_valid===16?(X(I,I.bi_buf),I.bi_buf=0,I.bi_valid=0):8<=I.bi_valid&&(I.pending_buf[I.pending++]=255&I.bi_buf,I.bi_buf>>=8,I.bi_valid-=8)}(b)}},{"../utils/common":41}],53:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,n){(function(r){(function(i,s){"use strict";if(!i.setImmediate){var a,l,m,p,y=1,c={},d=!1,u=i.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(i);g=g&&g.setTimeout?g:i,a={}.toString.call(i.process)==="[object process]"?function(S){process.nextTick(function(){_(S)})}:function(){if(i.postMessage&&!i.importScripts){var S=!0,k=i.onmessage;return i.onmessage=function(){S=!1},i.postMessage("","*"),i.onmessage=k,S}}()?(p="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",v,!1):i.attachEvent("onmessage",v),function(S){i.postMessage(p+S,"*")}):i.MessageChannel?((m=new MessageChannel).port1.onmessage=function(S){_(S.data)},function(S){m.port2.postMessage(S)}):u&&"onreadystatechange"in u.createElement("script")?(l=u.documentElement,function(S){var k=u.createElement("script");k.onreadystatechange=function(){_(S),k.onreadystatechange=null,l.removeChild(k),k=null},l.appendChild(k)}):function(S){setTimeout(_,0,S)},g.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var k=new Array(arguments.length-1),E=0;E<k.length;E++)k[E]=arguments[E+1];var C={callback:S,args:k};return c[y]=C,a(y),y++},g.clearImmediate=f}function f(S){delete c[S]}function _(S){if(d)setTimeout(_,0,S);else{var k=c[S];if(k){d=!0;try{(function(E){var C=E.callback,R=E.args;switch(R.length){case 0:C();break;case 1:C(R[0]);break;case 2:C(R[0],R[1]);break;case 3:C(R[0],R[1],R[2]);break;default:C.apply(s,R)}})(k)}finally{f(S),d=!1}}}}function v(S){S.source===i&&typeof S.data=="string"&&S.data.indexOf(p)===0&&_(+S.data.slice(p.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});function dr(t){return t?t.type==="pre"&&typeof t.id=="string"&&t.file instanceof File:!1}function pr(t){if(!t.startsWith("/"))return;let e=t.substring(1).split("/");for(let n=1;n<=e.length;n++){let r="/"+e.slice(0,n).join("/");xi(r)||FS.mkdir(r)}}function xi(t){try{return FS.stat(t),!0}catch(e){return!1}}function mr(t,e,n={}){try{switch(t){case"mem":FS.mount(MEMFS,n,e);break;case"worker":FS.mount(WORKERFS,n,e);break}}catch(r){console.trace(r)}}function gr(t){try{FS.unmount(t)}catch(e){console.trace(e)}}var fi=ki(_r());function Oe(t,e=Module.HEAPU8){let n=0;for(let r=0;r<4;r++)n=n*256+e[t+3-r];return n}async function hn({zip:t,path:e}){return new Promise((n,r)=>{let i=t.file(e);if(!i){r();return}i.async("uint8array").then(s=>{n(s)}).catch(r)})}var ze,Si=new Uint8Array(16);function dn(){if(!ze&&(ze=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ze))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ze(Si)}var vr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ei(t){return typeof t=="string"&&vr.test(t)}var br=Ei;var mt=[];for(Fe=0;Fe<256;++Fe)mt.push((Fe+256).toString(16).substr(1));var Fe;function Ci(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(mt[t[e+0]]+mt[t[e+1]]+mt[t[e+2]]+mt[t[e+3]]+"-"+mt[t[e+4]]+mt[t[e+5]]+"-"+mt[t[e+6]]+mt[t[e+7]]+"-"+mt[t[e+8]]+mt[t[e+9]]+"-"+mt[t[e+10]]+mt[t[e+11]]+mt[t[e+12]]+mt[t[e+13]]+mt[t[e+14]]+mt[t[e+15]]).toLowerCase();if(!br(n))throw TypeError("Stringified UUID is invalid");return n}var wr=Ci;function Ai(t,e,n){t=t||{};var r=t.random||(t.rng||dn)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return wr(r)}var Pt=Ai;function Ht(){let t=r=>{},e=r=>{},n=new Promise((r,i)=>{t=r,e=i});return Object.assign(n,{resolve:t,reject:e})}var Be=class{constructor(){this._string=new Map;this._void=new Map;this._strings=new Map;this._file=new Map;this._files=new Map;this.onMessage=e=>{if(Ri(e.data)){let n=e.data.id,r=e.data.value,i=this._string.get(n);this._string.delete(n),i==null||i.resolve(r)}else if(Ti(e.data)){let n=e.data.id,r=this._void.get(n);this._void.delete(n),r==null||r.resolve()}else if(Di(e.data)){let n=e.data.id,r=this._strings.get(n);this._strings.delete(n),r==null||r.resolve(e.data.strings)}else if(Pi(e.data)){let n=e.data.id,r=this._file.get(n);this._file.delete(n),r==null||r.resolve(e.data.file)}else if(Ii(e.data)){let n=e.data.id,r=this._files.get(n);this._files.delete(n),r==null||r.resolve(e.data.files)}};self.addEventListener("message",this.onMessage)}async get(e){let n=Pt(),r=Ht(),i={type:"get",id:n,key:e};return this._string.set(n,r),self.postMessage(i),r.then(async s=>{if(s===void 0)return;let l=await(await fetch(s)).arrayBuffer();return new Uint8Array(l)})}async file_(e){let n=Pt(),r=Ht(),i={type:"file",id:n,key:e};return this._file.set(n,r),self.postMessage(i),r}async put(e,n){let r=Pt(),i=Ht(),s={type:"put",id:r,key:e,buffer:n};return this._void.set(r,i),self.postMessage(s),i}async del(e){let n=Pt(),r=Ht(),i={type:"del",id:n,key:e};return this._void.set(n,r),self.postMessage(i),r}async keys({withPrefix:e}){let n=Pt(),r=Ht(),i={type:"keys_with_prefix",id:n,prefix:e};return this._strings.set(n,r),self.postMessage(i),r}async files({withPrefix:e}){let n=Pt(),r=Ht(),i={type:"files_with_prefix",id:n,prefix:e};return this._files.set(n,r),self.postMessage(i),r}async removeKeys({withPrefix:e}){let n=Pt(),r=Ht(),i={id:n,prefix:e,type:"remove_keys_with_prefix"};return this._void.set(n,r),self.postMessage(i),r}};function Ii(t){return t?t.type==="files_response"&&typeof t.id=="string"&&!!t.files:!1}function Ri(t){return t?t.type==="string_response"&&typeof t.id=="string":!1}function Ti(t){return t?t.type==="void_response"&&typeof t.id=="string":!1}function Di(t){return t?t.type==="strings_response"&&typeof t.id=="string"&&!!t.strings:!1}function Pi(t){return t?t.type==="file_response"&&typeof t.id=="string":!1}async function kr({kvs:t,prefix:e,mountPoint:n}){let r=e.endsWith("/")?e:`${e}/`,s=(await t.files({withPrefix:r})).map(a=>{let l=a.file,m=l.name.substring(r.length);return new File([l],m)});pr(n),mr("worker",n,{files:s})}var ot=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ht=Object.keys,_t=Array.isArray;typeof Promise<"u"&&!ot.Promise&&(ot.Promise=Promise);function bt(t,e){return typeof e!="object"||ht(e).forEach(function(n){t[n]=e[n]}),t}var _e=Object.getPrototypeOf,Oi={}.hasOwnProperty;function kt(t,e){return Oi.call(t,e)}function ie(t,e){typeof e=="function"&&(e=e(_e(t))),(typeof Reflect>"u"?ht:Reflect.ownKeys)(e).forEach(n=>{Kt(t,n,e[n])})}var Fr=Object.defineProperty;function Kt(t,e,n,r){Fr(t,e,bt(n&&kt(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function se(t){return{from:function(e){return t.prototype=Object.create(e.prototype),Kt(t.prototype,"constructor",t),{extend:ie.bind(null,t.prototype)}}}}var zi=Object.getOwnPropertyDescriptor;function Gn(t,e){let n=zi(t,e),r;return n||(r=_e(t))&&Gn(r,e)}var Fi=[].slice;function sn(t,e,n){return Fi.call(t,e,n)}function Br(t,e){return e(t)}function de(t){if(!t)throw new Error("Assertion Failed")}function Mr(t){ot.setImmediate?setImmediate(t):setTimeout(t,0)}function Kr(t,e){return t.reduce((n,r,i)=>{var s=e(r,i);return s&&(n[s[0]]=s[1]),n},{})}function Bi(t,e,n){try{t.apply(null,n)}catch(r){e&&e(r)}}function Mt(t,e){if(kt(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,i=e.length;r<i;++r){var s=Mt(t,e[r]);n.push(s)}return n}var a=e.indexOf(".");if(a!==-1){var l=t[e.substr(0,a)];return l===void 0?void 0:Mt(l,e.substr(a+1))}}function Et(t,e,n){if(!(!t||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){de(typeof n!="string"&&"length"in n);for(var r=0,i=e.length;r<i;++r)Et(t,e[r],n[r])}else{var s=e.indexOf(".");if(s!==-1){var a=e.substr(0,s),l=e.substr(s+1);if(l==="")n===void 0?_t(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var m=t[a];(!m||!kt(t,a))&&(m=t[a]={}),Et(m,l,n)}}else n===void 0?_t(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function Mi(t,e){typeof e=="string"?Et(t,e,void 0):"length"in e&&[].map.call(e,function(n){Et(t,n,void 0)})}function Nr(t){var e={};for(var n in t)kt(t,n)&&(e[n]=t[n]);return e}var Ki=[].concat;function jr(t){return Ki.apply([],t)}var Ur="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(jr([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>ot[t]),Ni=Ur.map(t=>ot[t]);Kr(Ur,t=>[t,!0]);var Ut=null;function Ee(t){Ut=typeof WeakMap<"u"&&new WeakMap;let e=bn(t);return Ut=null,e}function bn(t){if(!t||typeof t!="object")return t;let e=Ut&&Ut.get(t);if(e)return e;if(_t(t)){e=[],Ut&&Ut.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(bn(t[n]))}else if(Ni.indexOf(t.constructor)>=0)e=t;else{let s=_e(t);e=s===Object.prototype?{}:Object.create(s),Ut&&Ut.set(t,e);for(var i in t)kt(t,i)&&(e[i]=bn(t[i]))}return e}var{toString:ji}={};function wn(t){return ji.call(t).slice(8,-1)}var kn=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ui=typeof kn=="symbol"?function(t){var e;return t!=null&&(e=t[kn])&&e.apply(t)}:function(){return null},ne={};function Ft(t){var e,n,r,i;if(arguments.length===1){if(_t(t))return t.slice();if(this===ne&&typeof t=="string")return[t];if(i=Ui(t)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(t==null)return[t];if(e=t.length,typeof e=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var Qn=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1,Tt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Lr(t,e){Tt=t,Wr=e}var Wr=()=>!0,Li=!new Error("").stack;function Jt(){if(Li)try{throw Jt.arguments,new Error}catch(t){return t}return new Error}function xn(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(Wr).map(r=>`
`+r).join("")):""}var Wi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Zr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Yn=Wi.concat(Zr),Zi={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ae(t,e){this._e=Jt(),this.name=t,this.message=e}se(ae).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+xn(this._e,2))}},toString:function(){return this.name+": "+this.message}});function Vr(t,e){return t+". Errors: "+Object.keys(e).map(n=>e[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function Ge(t,e,n,r){this._e=Jt(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=Vr(t,e)}se(Ge).from(ae);function me(t,e){this._e=Jt(),this.name="BulkError",this.failures=Object.keys(e).map(n=>e[n]),this.failuresByPos=e,this.message=Vr(t,e)}se(me).from(ae);var Xn=Yn.reduce((t,e)=>(t[e]=e+"Error",t),{}),Vi=ae,et=Yn.reduce((t,e)=>{var n=e+"Error";function r(i,s){this._e=Jt(),this.name=n,i?typeof i=="string"?(this.message=`${i}${s?`
 `+s:""}`,this.inner=s||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=Zi[e]||n,this.inner=null)}return se(r).from(Vi),t[e]=r,t},{});et.Syntax=SyntaxError;et.Type=TypeError;et.Range=RangeError;var xr=Zr.reduce((t,e)=>(t[e+"Error"]=et[e],t),{});function Hi(t,e){if(!t||t instanceof ae||t instanceof TypeError||t instanceof SyntaxError||!t.name||!xr[t.name])return t;var n=new xr[t.name](e||t.message,t);return"stack"in t&&Kt(n,"stack",{get:function(){return this.inner.stack}}),n}var an=Yn.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=et[e]),t),{});an.ModifyError=Ge;an.DexieError=ae;an.BulkError=me;function st(){}function Ce(t){return t}function $i(t,e){return t==null||t===Ce?e:function(n){return e(t(n))}}function Xt(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function Gi(t,e){return t===st?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Xt(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Xt(i,this.onerror):i),s!==void 0?s:n}}function Qi(t,e){return t===st?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Xt(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Xt(r,this.onerror):r)}}function Yi(t,e){return t===st?e:function(n){var r=t.apply(this,arguments);bt(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Xt(i,this.onsuccess):i),s&&(this.onerror=this.onerror?Xt(s,this.onerror):s),r===void 0?a===void 0?void 0:a:bt(r,a)}}function Xi(t,e){return t===st?e:function(){return e.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function qn(t,e){return t===st?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return e.apply(r,s)})}return e.apply(this,arguments)}}var ve={},qi=100,Ji=20,Hr=100,[Sn,Qe,En]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,_e(t),t];let e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,_e(e),t]})(),$r=Qe&&Qe.then,Le=Sn&&Sn.constructor,Jn=!!En,Cn=!1,ts=En?()=>{En.then(Me)}:ot.setImmediate?setImmediate.bind(null,Me):ot.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{Me(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(Me,0)},be=function(t,e){pe.push([t,e]),Ye&&(ts(),Ye=!1)},An=!0,Ye=!0,Qt=[],We=[],In=null,Rn=Ce,re={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Cr,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{Cr(t[0],t[1])}catch{}})}},q=re,pe=[],Yt=0,Ze=[];function G(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=st,this._lib=!1;var e=this._PSD=q;if(Tt&&(this._stackHolder=Jt(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==ve)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Dn(this,this._value);return}this._state=null,this._value=null,++e.ref,Qr(this,t)}var Tn={get:function(){var t=q,e=Xe;function n(r,i){var s=!t.global&&(t!==q||e!==Xe);let a=s&&!Nt();var l=new G((m,p)=>{tr(this,new Gr(Je(r,t,s,a),Je(i,t,s,a),m,p,t))});return Tt&&qr(l,this),l}return n.prototype=ve,n},set:function(t){Kt(this,"then",t&&t.prototype===ve?Tn:{get:function(){return t},set:Tn.set})}};ie(G.prototype,{then:Tn,_then:function(t,e){tr(this,new Gr(null,null,t,e,q))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,r=>r instanceof e?n(r):Ve(r)):this.then(null,r=>r&&r.name===e?n(r):Ve(r))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),Ve(e)))},stack:{get:function(){if(this._stack)return this._stack;try{Cn=!0;var t=Xr(this,[],Ji),e=t.join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{Cn=!1}}},timeout:function(t,e){return t<1/0?new G((n,r)=>{var i=setTimeout(()=>r(new et.Timeout(e)),t);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&Kt(G.prototype,Symbol.toStringTag,"Dexie.Promise");re.env=Jr();function Gr(t,e,n,r,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=i}ie(G,{all:function(){var t=Ft.apply(null,arguments).map(qe);return new G(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach((i,s)=>G.resolve(i).then(a=>{t[s]=a,--r||e(t)},n))})},resolve:t=>{if(t instanceof G)return t;if(t&&typeof t.then=="function")return new G((n,r)=>{t.then(n,r)});var e=new G(ve,!0,t);return qr(e,In),e},reject:Ve,race:function(){var t=Ft.apply(null,arguments).map(qe);return new G((e,n)=>{t.map(r=>G.resolve(r).then(e,n))})},PSD:{get:()=>q,set:t=>q=t},totalEchoes:{get:()=>Xe},newPSD:Wt,usePSD:ue,scheduler:{get:()=>be,set:t=>{be=t}},rejectionMapper:{get:()=>Rn,set:t=>{Rn=t}},follow:(t,e)=>new G((n,r)=>Wt((i,s)=>{var a=q;a.unhandleds=[],a.onunhandled=s,a.finalize=Xt(function(){ns(()=>{this.unhandleds.length===0?i():s(this.unhandleds[0])})},a.finalize),t()},e,n,r))});Le&&(Le.allSettled&&Kt(G,"allSettled",function(){let t=Ft.apply(null,arguments).map(qe);return new G(e=>{t.length===0&&e([]);let n=t.length,r=new Array(n);t.forEach((i,s)=>G.resolve(i).then(a=>r[s]={status:"fulfilled",value:a},a=>r[s]={status:"rejected",reason:a}).then(()=>--n||e(r)))})}),Le.any&&typeof AggregateError<"u"&&Kt(G,"any",function(){let t=Ft.apply(null,arguments).map(qe);return new G((e,n)=>{t.length===0&&n(new AggregateError([]));let r=t.length,i=new Array(r);t.forEach((s,a)=>G.resolve(s).then(l=>e(l),l=>{i[a]=l,--r||n(new AggregateError(i))}))})}));function Qr(t,e){try{e(n=>{if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Ae();n&&typeof n.then=="function"?Qr(t,(i,s)=>{n instanceof G?n._then(i,s):n.then(i,s)}):(t._state=!0,t._value=n,Yr(t)),r&&Ie()}},Dn.bind(null,t))}catch(n){Dn(t,n)}}function Dn(t,e){if(We.push(e),t._state===null){var n=t._lib&&Ae();e=Rn(e),t._state=!1,t._value=e,Tt&&e!==null&&typeof e=="object"&&!e._promise&&Bi(()=>{var r=Gn(e,"stack");e._promise=t,Kt(e,"stack",{get:()=>Cn?r&&(r.get?r.get.apply(e):r.value):t.stack})}),rs(t),Yr(t),n&&Ie()}}function Yr(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)tr(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),Yt===0&&(++Yt,be(()=>{--Yt===0&&er()},[]))}function tr(t,e){if(t._state===null){t._listeners.push(e);return}var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Yt,be(es,[n,t,e])}function es(t,e,n){try{In=e;var r,i=e._value;e._state?r=t(i):(We.length&&(We=[]),r=t(i),We.indexOf(i)===-1&&is(e)),n.resolve(r)}catch(s){n.reject(s)}finally{In=null,--Yt===0&&er(),--n.psd.ref||n.psd.finalize()}}function Xr(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var i=t._value,s,a;i!=null?(s=i.name||"Error",a=i.message||i,r=xn(i,0)):(s=i,a=""),e.push(s+(a?": "+a:"")+r)}return Tt&&(r=xn(t._stackHolder,2),r&&e.indexOf(r)===-1&&e.push(r),t._prev&&Xr(t._prev,e,n)),e}function qr(t,e){var n=e?e._numPrev+1:0;n<qi&&(t._prev=e,t._numPrev=n)}function Me(){Ae()&&Ie()}function Ae(){var t=An;return An=!1,Ye=!1,t}function Ie(){var t,e,n;do for(;pe.length>0;)for(t=pe,pe=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(pe.length>0);An=!0,Ye=!0}function er(){var t=Qt;Qt=[],t.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var e=Ze.slice(0),n=e.length;n;)e[--n]()}function ns(t){function e(){t(),Ze.splice(Ze.indexOf(e),1)}Ze.push(e),++Yt,be(()=>{--Yt===0&&er()},[])}function rs(t){Qt.some(e=>e._value===t._value)||Qt.push(t)}function is(t){for(var e=Qt.length;e;)if(Qt[--e]._value===t._value){Qt.splice(e,1);return}}function Ve(t){return new G(ve,!1,t)}function ut(t,e){var n=q;return function(){var r=Ae(),i=q;try{return Zt(n,!0),t.apply(this,arguments)}catch(s){e&&e(s)}finally{Zt(i,!1),r&&Ie()}}}var yt={awaits:0,echoes:0,id:0},ss=0,He=[],pn=0,Xe=0,as=0;function Wt(t,e,n,r){var i=q,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++as;var a=re.env;s.env=Jn?{Promise:G,PromiseProp:{value:G,configurable:!0,writable:!0},all:G.all,race:G.race,allSettled:G.allSettled,any:G.any,resolve:G.resolve,reject:G.reject,nthen:Sr(a.nthen,s),gthen:Sr(a.gthen,s)}:{},e&&bt(s,e),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=ue(s,t,n,r);return s.ref===0&&s.finalize(),l}function oe(){return yt.id||(yt.id=++ss),++yt.awaits,yt.echoes+=Hr,yt.id}function Nt(){return yt.awaits?(--yt.awaits===0&&(yt.id=0),yt.echoes=yt.awaits*Hr,!0):!1}(""+$r).indexOf("[native code]")===-1&&(oe=Nt=st);function qe(t){return yt.echoes&&t&&t.constructor===Le?(oe(),t.then(e=>(Nt(),e),e=>(Nt(),dt(e)))):t}function os(t){++Xe,(!yt.echoes||--yt.echoes===0)&&(yt.echoes=yt.id=0),He.push(q),Zt(t,!0)}function us(){var t=He[He.length-1];He.pop(),Zt(t,!1)}function Zt(t,e){var n=q;if((e?yt.echoes&&(!pn++||t!==q):pn&&(!--pn||t!==q))&&ti(e?os.bind(null,t):us),t!==q&&(q=t,n===re&&(re.env=Jr()),Jn)){var r=re.env.Promise,i=t.env;Qe.then=i.nthen,r.prototype.then=i.gthen,(n.global||t.global)&&(Object.defineProperty(ot,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Jr(){var t=ot.Promise;return Jn?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(ot,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Qe.then,gthen:t.prototype.then}:{}}function ue(t,e,n,r,i){var s=q;try{return Zt(t,!0),e(n,r,i)}finally{Zt(s,!1)}}function ti(t){$r.call(Sn,t)}function Je(t,e,n,r){return typeof t!="function"?t:function(){var i=q;n&&oe(),Zt(e,!0);try{return t.apply(this,arguments)}finally{Zt(i,!1),r&&ti(Nt)}}}function Sr(t,e){return function(n,r){return t.call(this,Je(n,e),Je(r,e))}}var Er="unhandledrejection";function Cr(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,i={promise:e,reason:t};if(ot.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(Er,!0,!0),bt(r,i)):ot.CustomEvent&&(r=new CustomEvent(Er,{detail:i}),bt(r,i)),r&&ot.dispatchEvent&&(dispatchEvent(r),!ot.PromiseRejectionEvent&&ot.onunhandledrejection))try{ot.onunhandledrejection(r)}catch{}Tt&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var dt=G.reject;function Pn(t,e,n,r){if(!t.idbdb||!t._state.openComplete&&!q.letThrough&&!t._vip){if(t._state.openComplete)return dt(new et.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return dt(new et.DatabaseClosed);t.open().catch(st)}return t._state.dbReadyPromise.then(()=>Pn(t,e,n,r))}else{var i=t._createTransaction(e,n,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(s){return s.name===Xn.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>Pn(t,e,n,r))):dt(s)}return i._promise(e,(s,a)=>Wt(()=>(q.trans=i,r(s,a,i)))).then(s=>i._completion.then(()=>s))}}var Ar="3.2.2",Gt=String.fromCharCode(65535),On=-1/0,Ot="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ei="String expected.",ge=[],on=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),ls=on,cs=on,ni=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),un="__dbnames",mn="readonly",gn="readwrite";function qt(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var ri={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ke(t){return typeof t=="string"&&!/\./.test(t)?e=>(e[t]===void 0&&t in e&&(e=Ee(e),delete e[t]),e):e=>e}var zn=class{_trans(e,n,r){let i=this._tx||q.trans,s=this.name;function a(m,p,y){if(!y.schema[s])throw new et.NotFound("Table "+s+" not part of transaction");return n(y.idbtrans,y)}let l=Ae();try{return i&&i.db===this.db?i===q.trans?i._promise(e,a,r):Wt(()=>i._promise(e,a,r),{trans:i,transless:q.transless||q}):Pn(this.db,e,[this.name],a)}finally{l&&Ie()}}get(e,n){return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:e}).then(i=>this.hook.reading.fire(i))).then(n)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(_t(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);let n=ht(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);let r=this.schema.indexes.concat(this.schema.primKey).filter(p=>p.compound&&n.every(y=>p.keyPath.indexOf(y)>=0)&&p.keyPath.every(y=>n.indexOf(y)>=0))[0];if(r&&this.db._maxKey!==Gt)return this.where(r.name).equals(r.keyPath.map(p=>e[p]));!r&&Tt&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);let{idxByName:i}=this.schema,s=this.db._deps.indexedDB;function a(p,y){try{return s.cmp(p,y)===0}catch{return!1}}let[l,m]=n.reduce(([p,y],c)=>{let d=i[c],u=e[c];return[p||d,p||!d?qt(y,d&&d.multi?g=>{let f=Mt(g,c);return _t(f)&&f.some(_=>a(u,_))}:g=>a(u,Mt(g,c))):y]},[null,null]);return l?this.where(l.name).equals(e[l.keyPath]).filter(m):r?this.filter(m):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,_t(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;let n=r=>{if(!r)return r;let i=Object.create(e.prototype);for(var s in r)if(kt(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e}defineClass(){function e(n){bt(this,n)}return this.mapToClass(e)}add(e,n){let{auto:r,keyPath:i}=this.schema.primKey,s=e;return i&&r&&(s=Ke(i)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[s]})).then(a=>a.numFailures?G.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{Et(e,i,a)}catch{}return a})}update(e,n){if(typeof e=="object"&&!_t(e)){let r=Mt(e,this.schema.primKey.keyPath);if(r===void 0)return dt(new et.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?ht(n).forEach(i=>{Et(e,i,n[i])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(e).modify(n)}put(e,n){let{auto:r,keyPath:i}=this.schema.primKey,s=e;return i&&r&&(s=Ke(i)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[s],keys:n!=null?[n]:null})).then(a=>a.numFailures?G.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{Et(e,i,a)}catch{}return a})}delete(e){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[e]})).then(n=>n.numFailures?G.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:ri})).then(e=>e.numFailures?G.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",n=>this.core.getMany({keys:e,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(e,n,r){let i=Array.isArray(n)?n:void 0;r=r||(i?void 0:n);let s=r?r.allKeys:void 0;return this._trans("readwrite",a=>{let{auto:l,keyPath:m}=this.schema.primKey;if(m&&i)throw new et.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new et.InvalidArgument("Arguments objects and keys must have the same length");let p=e.length,y=m&&l?e.map(Ke(m)):e;return this.core.mutate({trans:a,type:"add",keys:i,values:y,wantResults:s}).then(({numFailures:c,results:d,lastResult:u,failures:g})=>{let f=s?d:u;if(c===0)return f;throw new me(`${this.name}.bulkAdd(): ${c} of ${p} operations failed`,g)})})}bulkPut(e,n,r){let i=Array.isArray(n)?n:void 0;r=r||(i?void 0:n);let s=r?r.allKeys:void 0;return this._trans("readwrite",a=>{let{auto:l,keyPath:m}=this.schema.primKey;if(m&&i)throw new et.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new et.InvalidArgument("Arguments objects and keys must have the same length");let p=e.length,y=m&&l?e.map(Ke(m)):e;return this.core.mutate({trans:a,type:"put",keys:i,values:y,wantResults:s}).then(({numFailures:c,results:d,lastResult:u,failures:g})=>{let f=s?d:u;if(c===0)return f;throw new me(`${this.name}.bulkPut(): ${c} of ${p} operations failed`,g)})})}bulkDelete(e){let n=e.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:e})).then(({numFailures:r,lastResult:i,failures:s})=>{if(r===0)return i;throw new me(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,s)})}};function Re(t){var e={},n=function(l,m){if(m){for(var p=arguments.length,y=new Array(p-1);--p;)y[p-1]=arguments[p];return e[l].subscribe.apply(null,y),t}else if(typeof l=="string")return e[l]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(l,m,p){if(typeof l=="object")return a(l);m||(m=Xi),p||(p=st);var y={subscribers:[],fire:p,subscribe:function(c){y.subscribers.indexOf(c)===-1&&(y.subscribers.push(c),y.fire=m(y.fire,c))},unsubscribe:function(c){y.subscribers=y.subscribers.filter(function(d){return d!==c}),y.fire=y.subscribers.reduce(m,p)}};return e[l]=n[l]=y,y}function a(l){ht(l).forEach(function(m){var p=l[m];if(_t(p))s(m,l[m][0],l[m][1]);else if(p==="asap")var y=s(m,Ce,function(){for(var d=arguments.length,u=new Array(d);d--;)u[d]=arguments[d];y.subscribers.forEach(function(g){Mr(function(){g.apply(null,u)})})});else throw new et.InvalidArgument("Invalid event config")})}}function Te(t,e){return se(e).from({prototype:t}),e}function fs(t){return Te(zn.prototype,function(n,r,i){this.db=t,this._tx=i,this.name=n,this.schema=r,this.hook=t._allTables[n]?t._allTables[n].hook:Re(null,{creating:[Gi,st],reading:[$i,Ce],updating:[Yi,st],deleting:[Qi,st]})})}function te(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function yn(t,e){t.filter=qt(t.filter,e)}function _n(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>qt(r(),e()):e,t.justLimit=n&&!r}function hs(t,e){t.isMatch=qt(t.isMatch,e)}function $e(t,e){if(t.isPrimKey)return e.primaryKey;let n=e.getIndexByKeyPath(t.index);if(!n)throw new et.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Ir(t,e,n){let r=$e(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function Ne(t,e,n,r){let i=t.replayFilter?qt(t.filter,t.replayFilter()):t.filter;if(t.or){let s={},a=(l,m,p)=>{if(!i||i(m,p,d=>m.stop(d),d=>m.fail(d))){var y=m.primaryKey,c=""+y;c==="[object ArrayBuffer]"&&(c=""+new Uint8Array(y)),kt(s,c)||(s[c]=!0,e(l,m,p))}};return Promise.all([t.or._iterate(a,n),Rr(Ir(t,r,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}else return Rr(Ir(t,r,n),qt(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function Rr(t,e,n,r){var i=r?(a,l,m)=>n(r(a),l,m):n,s=ut(i);return t.then(a=>{if(a)return a.start(()=>{var l=()=>a.continue();(!e||e(a,m=>l=m,m=>{a.stop(m),l=st},m=>{a.fail(m),l=st}))&&s(a.value,a,m=>l=m),l()})})}function vt(t,e){try{let n=Tr(t),r=Tr(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return ps(Dr(t),Dr(e));case"Array":return ds(t,e)}}catch{}return NaN}function ds(t,e){let n=t.length,r=e.length,i=n<r?n:r;for(let s=0;s<i;++s){let a=vt(t[s],e[s]);if(a!==0)return a}return n===r?0:n<r?-1:1}function ps(t,e){let n=t.length,r=e.length,i=n<r?n:r;for(let s=0;s<i;++s)if(t[s]!==e[s])return t[s]<e[s]?-1:1;return n===r?0:n<r?-1:1}function Tr(t){let e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";let n=wn(t);return n==="ArrayBuffer"?"binary":n}function Dr(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var Fn=class{_read(e,n){var r=this._ctx;return r.error?r.table._trans(null,dt.bind(null,r.error)):r.table._trans("readonly",e).then(n)}_write(e){var n=this._ctx;return n.error?n.table._trans(null,dt.bind(null,n.error)):n.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var n=this._ctx;n.algorithm=qt(n.algorithm,e)}_iterate(e,n){return Ne(this._ctx,e,n,this._ctx.table.core)}clone(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&bt(r,e),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(e){var n=this._ctx;return this._read(r=>Ne(n,e,r,n.table.core))}count(e){return this._read(n=>{let r=this._ctx,i=r.table.core;if(te(r,!0))return i.count({trans:n,query:{index:$e(r,i.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var s=0;return Ne(r,()=>(++s,!1),n,i).then(()=>s)}).then(e)}sortBy(e,n){let r=e.split(".").reverse(),i=r[0],s=r.length-1;function a(p,y){return y?a(p[r[y]],y-1):p[i]}var l=this._ctx.dir==="next"?1:-1;function m(p,y){var c=a(p,s),d=a(y,s);return c<d?-l:c>d?l:0}return this.toArray(function(p){return p.sort(m)}).then(n)}toArray(e){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&te(r,!0)&&r.limit>0){let{valueMapper:i}=r,s=$e(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then(({result:a})=>i?a.map(i):a)}else{let i=[];return Ne(r,s=>i.push(s),n,r.table.core).then(()=>i)}},e)}offset(e){var n=this._ctx;return e<=0?this:(n.offset+=e,te(n)?_n(n,()=>{var r=e;return(i,s)=>r===0?!0:r===1?(--r,!1):(s(()=>{i.advance(r),r=0}),!1)}):_n(n,()=>{var r=e;return()=>--r<0}),this)}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),_n(this._ctx,()=>{var n=e;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this}until(e,n){return yn(this._ctx,function(r,i,s){return e(r.value)?(i(s),n):!0}),this}first(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){return yn(this._ctx,function(n){return e(n.value)}),hs(this._ctx,e),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.key,i)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.primaryKey,i)})}keys(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(e)}primaryKeys(e){var n=this._ctx;if(n.dir==="next"&&te(n,!0)&&n.limit>0)return this._read(i=>{var s=$e(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(({result:i})=>i).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(n){return n[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return yn(this._ctx,function(i){var s=i.primaryKey.toString(),a=kt(r,s);return r[s]=!0,!a}),this}modify(e){var n=this._ctx;return this._write(r=>{var i;if(typeof e=="function")i=e;else{var s=ht(e),a=s.length;i=function(f){for(var _=!1,v=0;v<a;++v){var S=s[v],k=e[S];Mt(f,S)!==k&&(Et(f,S,k),_=!0)}return _}}let l=n.table.core,{outbound:m,extractKey:p}=l.schema.primaryKey,y=this.db._options.modifyChunkSize||200,c=[],d=0,u=[],g=(f,_)=>{let{failures:v,numFailures:S}=_;d+=f-S;for(let k of ht(v))c.push(v[k])};return this.clone().primaryKeys().then(f=>{let _=v=>{let S=Math.min(y,f.length-v);return l.getMany({trans:r,keys:f.slice(v,v+S),cache:"immutable"}).then(k=>{let E=[],C=[],R=m?[]:null,A=[];for(let L=0;L<S;++L){let x=k[L],T={value:Ee(x),primKey:f[v+L]};i.call(T,T.value,T)!==!1&&(T.value==null?A.push(f[v+L]):!m&&vt(p(x),p(T.value))!==0?(A.push(f[v+L]),E.push(T.value)):(C.push(T.value),m&&R.push(f[v+L])))}let F=te(n)&&n.limit===1/0&&(typeof e!="function"||e===vn)&&{index:n.index,range:n.range};return Promise.resolve(E.length>0&&l.mutate({trans:r,type:"add",values:E}).then(L=>{for(let x in L.failures)A.splice(parseInt(x),1);g(E.length,L)})).then(()=>(C.length>0||F&&typeof e=="object")&&l.mutate({trans:r,type:"put",keys:R,values:C,criteria:F,changeSpec:typeof e!="function"&&e}).then(L=>g(C.length,L))).then(()=>(A.length>0||F&&e===vn)&&l.mutate({trans:r,type:"delete",keys:A,criteria:F}).then(L=>g(A.length,L))).then(()=>f.length>v+S&&_(v+y))})};return _(0).then(()=>{if(c.length>0)throw new Ge("Error modifying one or more objects",c,d,u);return f.length})})})}delete(){var e=this._ctx,n=e.range;return te(e)&&(e.isPrimKey&&!cs||n.type===3)?this._write(r=>{let{primaryKey:i}=e.table.core.schema,s=n;return e.table.core.count({trans:r,query:{index:i,range:s}}).then(a=>e.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(({failures:l,lastResult:m,results:p,numFailures:y})=>{if(y)throw new Ge("Could not delete some values",Object.keys(l).map(c=>l[c]),a-y);return a-y}))}):this.modify(vn)}},vn=(t,e)=>e.value=null;function ms(t){return Te(Fn.prototype,function(n,r){this.db=t;let i=ri,s=null;if(r)try{i=r()}catch(p){s=p}let a=n._ctx,l=a.table,m=l.hook.reading.fire;this._ctx={table:l,index:a.index,isPrimKey:!a.index||l.schema.primKey.keyPath&&a.index===l.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:s,or:a.or,valueMapper:m!==Ce?m:null}})}function gs(t,e){return t<e?-1:t===e?0:1}function ys(t,e){return t>e?-1:t===e?0:1}function wt(t,e,n){var r=t instanceof tn?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function ee(t){return new t.Collection(t,()=>ii("")).limit(0)}function _s(t){return t==="next"?e=>e.toUpperCase():e=>e.toLowerCase()}function vs(t){return t==="next"?e=>e.toLowerCase():e=>e.toUpperCase()}function bs(t,e,n,r,i,s){for(var a=Math.min(t.length,r.length),l=-1,m=0;m<a;++m){var p=e[m];if(p!==r[m])return i(t[m],n[m])<0?t.substr(0,m)+n[m]+n.substr(m+1):i(t[m],r[m])<0?t.substr(0,m)+r[m]+n.substr(m+1):l>=0?t.substr(0,l)+e[l]+n.substr(l+1):null;i(t[m],p)<0&&(l=m)}return a<r.length&&s==="next"?t+n.substr(t.length):a<t.length&&s==="prev"?t.substr(0,n.length):l<0?null:t.substr(0,l)+r[l]+n.substr(l+1)}function je(t,e,n,r){var i,s,a,l,m,p,y,c=n.length;if(!n.every(f=>typeof f=="string"))return wt(t,ei);function d(f){i=_s(f),s=vs(f),a=f==="next"?gs:ys;var _=n.map(function(v){return{lower:s(v),upper:i(v)}}).sort(function(v,S){return a(v.lower,S.lower)});l=_.map(function(v){return v.upper}),m=_.map(function(v){return v.lower}),p=f,y=f==="next"?"":r}d("next");var u=new t.Collection(t,()=>jt(l[0],m[c-1]+r));u._ondirectionchange=function(f){d(f)};var g=0;return u._addAlgorithm(function(f,_,v){var S=f.key;if(typeof S!="string")return!1;var k=s(S);if(e(k,m,g))return!0;for(var E=null,C=g;C<c;++C){var R=bs(S,k,l[C],m[C],a,p);R===null&&E===null?g=C+1:(E===null||a(E,R)>0)&&(E=R)}return _(E!==null?function(){f.continue(E+y)}:v),!1}),u}function jt(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function ii(t){return{type:1,lower:t,upper:t}}var tn=class{get Collection(){return this._ctx.table.db.Collection}between(e,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||i)&&!(r&&i)?ee(this):new this.Collection(this,()=>jt(e,n,!r,!i))}catch{return wt(this,Ot)}}equals(e){return e==null?wt(this,Ot):new this.Collection(this,()=>ii(e))}above(e){return e==null?wt(this,Ot):new this.Collection(this,()=>jt(e,void 0,!0))}aboveOrEqual(e){return e==null?wt(this,Ot):new this.Collection(this,()=>jt(e,void 0,!1))}below(e){return e==null?wt(this,Ot):new this.Collection(this,()=>jt(void 0,e,!1,!0))}belowOrEqual(e){return e==null?wt(this,Ot):new this.Collection(this,()=>jt(void 0,e))}startsWith(e){return typeof e!="string"?wt(this,ei):this.between(e,e+Gt,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):je(this,(n,r)=>n.indexOf(r[0])===0,[e],Gt)}equalsIgnoreCase(e){return je(this,(n,r)=>n===r[0],[e],"")}anyOfIgnoreCase(){var e=Ft.apply(ne,arguments);return e.length===0?ee(this):je(this,(n,r)=>r.indexOf(n)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=Ft.apply(ne,arguments);return e.length===0?ee(this):je(this,(n,r)=>r.some(i=>n.indexOf(i)===0),e,Gt)}anyOf(){let e=Ft.apply(ne,arguments),n=this._cmp;try{e.sort(n)}catch{return wt(this,Ot)}if(e.length===0)return ee(this);let r=new this.Collection(this,()=>jt(e[0],e[e.length-1]));r._ondirectionchange=s=>{n=s==="next"?this._ascending:this._descending,e.sort(n)};let i=0;return r._addAlgorithm((s,a,l)=>{let m=s.key;for(;n(m,e[i])>0;)if(++i,i===e.length)return a(l),!1;return n(m,e[i])===0?!0:(a(()=>{s.continue(e[i])}),!1)}),r}notEqual(e){return this.inAnyRange([[On,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){let e=Ft.apply(ne,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return wt(this,Ot)}let n=e.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[On,i]],null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,n){let r=this._cmp,i=this._ascending,s=this._descending,a=this._min,l=this._max;if(e.length===0)return ee(this);if(!e.every(E=>E[0]!==void 0&&E[1]!==void 0&&i(E[0],E[1])<=0))return wt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",et.InvalidArgument);let m=!n||n.includeLowers!==!1,p=n&&n.includeUppers===!0;function y(E,C){let R=0,A=E.length;for(;R<A;++R){let F=E[R];if(r(C[0],F[1])<0&&r(C[1],F[0])>0){F[0]=a(F[0],C[0]),F[1]=l(F[1],C[1]);break}}return R===A&&E.push(C),E}let c=i;function d(E,C){return c(E[0],C[0])}let u;try{u=e.reduce(y,[]),u.sort(d)}catch{return wt(this,Ot)}let g=0,f=p?E=>i(E,u[g][1])>0:E=>i(E,u[g][1])>=0,_=m?E=>s(E,u[g][0])>0:E=>s(E,u[g][0])>=0;function v(E){return!f(E)&&!_(E)}let S=f,k=new this.Collection(this,()=>jt(u[0][0],u[u.length-1][1],!m,!p));return k._ondirectionchange=E=>{E==="next"?(S=f,c=i):(S=_,c=s),u.sort(d)},k._addAlgorithm((E,C,R)=>{for(var A=E.key;S(A);)if(++g,g===u.length)return C(R),!1;return v(A)?!0:(this._cmp(A,u[g][1])===0||this._cmp(A,u[g][0])===0||C(()=>{c===i?E.continue(u[g][0]):E.continue(u[g][1])}),!1)}),k}startsWithAnyOf(){let e=Ft.apply(ne,arguments);return e.every(n=>typeof n=="string")?e.length===0?ee(this):this.inAnyRange(e.map(n=>[n,n+Gt])):wt(this,"startsWithAnyOf() only works with strings")}};function ws(t){return Te(tn.prototype,function(n,r,i){this.db=t,this._ctx={table:n,index:r===":id"?null:r,or:i};let s=t._deps.indexedDB;if(!s)throw new et.MissingAPI;this._cmp=this._ascending=s.cmp.bind(s),this._descending=(a,l)=>s.cmp(l,a),this._max=(a,l)=>s.cmp(a,l)>0?a:l,this._min=(a,l)=>s.cmp(a,l)<0?a:l,this._IDBKeyRange=t._deps.IDBKeyRange})}function It(t){return ut(function(e){return we(e),t(e.target.error),!1})}function we(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var ke="storagemutated",Lt="x-storagemutated-1",Vt=Re(null,ke),Bn=class{_lock(){return de(!q.global),++this._reculock,this._reculock===1&&!q.global&&(q.lockOwnerFor=this),this}_unlock(){if(de(!q.global),--this._reculock===0)for(q.global||(q.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ue(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&q.lockOwnerFor!==this}create(e){if(!this.mode)return this;let n=this.db.idbdb,r=this.db._state.dbOpenError;if(de(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new et.DatabaseClosed(r);case"MissingAPIError":throw new et.MissingAPI(r.message,r);default:throw new et.OpenFailed(r)}if(!this.active)throw new et.TransactionInactive;return de(this._completion._state===null),e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),e.onerror=ut(i=>{we(i),this._reject(e.error)}),e.onabort=ut(i=>{we(i),this.active&&this._reject(new et.Abort(e.error)),this.active=!1,this.on("abort").fire(i)}),e.oncomplete=ut(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Vt.storagemutated.fire(e.mutatedParts)}),this}_promise(e,n,r){if(e==="readwrite"&&this.mode!=="readwrite")return dt(new et.ReadOnly("Transaction is readonly"));if(!this.active)return dt(new et.TransactionInactive);if(this._locked())return new G((s,a)=>{this._blockedFuncs.push([()=>{this._promise(e,n,r).then(s,a)},q])});if(r)return Wt(()=>{var s=new G((a,l)=>{this._lock();let m=n(a,l,this);m&&m.then&&m.then(a,l)});return s.finally(()=>this._unlock()),s._lib=!0,s});var i=new G((s,a)=>{var l=n(s,a,this);l&&l.then&&l.then(s,a)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(e){var n=this._root();let r=G.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var s=n._waitingFor;return new G((a,l)=>{r.then(m=>n._waitingQueue.push(ut(a.bind(null,m))),m=>n._waitingQueue.push(ut(l.bind(null,m)))).finally(()=>{n._waitingFor===s&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new et.Abort))}table(e){let n=this._memoizedTables||(this._memoizedTables={});if(kt(n,e))return n[e];let r=this.schema[e];if(!r)throw new et.NotFound("Table "+e+" not part of transaction");let i=new this.db.Table(e,r,this);return i.core=this.db.core.table(e),n[e]=i,i}};function ks(t){return Te(Bn.prototype,function(n,r,i,s,a){this.db=t,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=s,this.idbtrans=null,this.on=Re(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new G((l,m)=>{this._resolve=l,this._reject=m}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},l=>{var m=this.active;return this.active=!1,this.on.error.fire(l),this.parent?this.parent._reject(l):m&&this.idbtrans&&this.idbtrans.abort(),dt(l)})})}function Mn(t,e,n,r,i,s,a){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:s,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+si(e)}}function si(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function ai(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:Kr(n,r=>[r.name,r])}}function xs(t){return t.length===1?t[0]:t}var xe=t=>{try{return t.only([[]]),xe=()=>[[]],[[]]}catch{return xe=()=>Gt,Gt}};function Kn(t){return t==null?()=>{}:typeof t=="string"?Ss(t):e=>Mt(e,t)}function Ss(t){return t.split(".").length===1?n=>n[t]:n=>Mt(n,t)}function Pr(t){return[].slice.call(t)}var Es=0;function ye(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function Cs(t,e,n){function r(y,c){let d=Pr(y.objectStoreNames);return{schema:{name:y.name,tables:d.map(u=>c.objectStore(u)).map(u=>{let{keyPath:g,autoIncrement:f}=u,_=_t(g),v=g==null,S={},k={name:u.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:v,compound:_,keyPath:g,autoIncrement:f,unique:!0,extractKey:Kn(g)},indexes:Pr(u.indexNames).map(E=>u.index(E)).map(E=>{let{name:C,unique:R,multiEntry:A,keyPath:F}=E,L=_t(F),x={name:C,compound:L,keyPath:F,unique:R,multiEntry:A,extractKey:Kn(F)};return S[ye(F)]=x,x}),getIndexByKeyPath:E=>S[ye(E)]};return S[":id"]=k.primaryKey,g!=null&&(S[ye(g)]=k.primaryKey),k})},hasGetAll:d.length>0&&"getAll"in c.objectStore(d[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(y){if(y.type===3)return null;if(y.type===4)throw new Error("Cannot convert never type to IDBKeyRange");let{lower:c,upper:d,lowerOpen:u,upperOpen:g}=y;return c===void 0?d===void 0?null:e.upperBound(d,!!g):d===void 0?e.lowerBound(c,!!u):e.bound(c,d,!!u,!!g)}function s(y){let c=y.name;function d({trans:f,type:_,keys:v,values:S,range:k}){return new Promise((E,C)=>{E=ut(E);let R=f.objectStore(c),A=R.keyPath==null,F=_==="put"||_==="add";if(!F&&_!=="delete"&&_!=="deleteRange")throw new Error("Invalid operation type: "+_);let{length:L}=v||S||{length:1};if(v&&S&&v.length!==S.length)throw new Error("Given keys array must have same length as given values array.");if(L===0)return E({numFailures:0,failures:{},results:[],lastResult:void 0});let x,T=[],h=[],P=0,Y=J=>{++P,we(J)};if(_==="deleteRange"){if(k.type===4)return E({numFailures:P,failures:h,results:[],lastResult:void 0});k.type===3?T.push(x=R.clear()):T.push(x=R.delete(i(k)))}else{let[J,j]=F?A?[S,v]:[S,null]:[v,null];if(F)for(let Q=0;Q<L;++Q)T.push(x=j&&j[Q]!==void 0?R[_](J[Q],j[Q]):R[_](J[Q])),x.onerror=Y;else for(let Q=0;Q<L;++Q)T.push(x=R[_](J[Q])),x.onerror=Y}let K=J=>{let j=J.target.result;T.forEach((Q,z)=>Q.error!=null&&(h[z]=Q.error)),E({numFailures:P,failures:h,results:_==="delete"?v:T.map(Q=>Q.result),lastResult:j})};x.onerror=J=>{Y(J),K(J)},x.onsuccess=K})}function u({trans:f,values:_,query:v,reverse:S,unique:k}){return new Promise((E,C)=>{E=ut(E);let{index:R,range:A}=v,F=f.objectStore(c),L=R.isPrimaryKey?F:F.index(R.name),x=S?k?"prevunique":"prev":k?"nextunique":"next",T=_||!("openKeyCursor"in L)?L.openCursor(i(A),x):L.openKeyCursor(i(A),x);T.onerror=It(C),T.onsuccess=ut(h=>{let P=T.result;if(!P){E(null);return}P.___id=++Es,P.done=!1;let Y=P.continue.bind(P),K=P.continuePrimaryKey;K&&(K=K.bind(P));let J=P.advance.bind(P),j=()=>{throw new Error("Cursor not started")},Q=()=>{throw new Error("Cursor not stopped")};P.trans=f,P.stop=P.continue=P.continuePrimaryKey=P.advance=j,P.fail=ut(C),P.next=function(){let z=1;return this.start(()=>z--?this.continue():this.stop()).then(()=>this)},P.start=z=>{let O=new Promise((H,V)=>{H=ut(H),T.onerror=It(V),P.fail=V,P.stop=lt=>{P.stop=P.continue=P.continuePrimaryKey=P.advance=Q,H(lt)}}),X=()=>{if(T.result)try{z()}catch(H){P.fail(H)}else P.done=!0,P.start=()=>{throw new Error("Cursor behind last entry")},P.stop()};return T.onsuccess=ut(H=>{T.onsuccess=X,X()}),P.continue=Y,P.continuePrimaryKey=K,P.advance=J,X(),O},E(P)},C)})}function g(f){return _=>new Promise((v,S)=>{v=ut(v);let{trans:k,values:E,limit:C,query:R}=_,A=C===1/0?void 0:C,{index:F,range:L}=R,x=k.objectStore(c),T=F.isPrimaryKey?x:x.index(F.name),h=i(L);if(C===0)return v({result:[]});if(f){let P=E?T.getAll(h,A):T.getAllKeys(h,A);P.onsuccess=Y=>v({result:Y.target.result}),P.onerror=It(S)}else{let P=0,Y=E||!("openKeyCursor"in T)?T.openCursor(h):T.openKeyCursor(h),K=[];Y.onsuccess=J=>{let j=Y.result;if(!j)return v({result:K});if(K.push(E?j.value:j.primaryKey),++P===C)return v({result:K});j.continue()},Y.onerror=It(S)}})}return{name:c,schema:y,mutate:d,getMany({trans:f,keys:_}){return new Promise((v,S)=>{v=ut(v);let k=f.objectStore(c),E=_.length,C=new Array(E),R=0,A=0,F,L=T=>{let h=T.target;(C[h._pos]=h.result)!=null,++A===R&&v(C)},x=It(S);for(let T=0;T<E;++T)_[T]!=null&&(F=k.get(_[T]),F._pos=T,F.onsuccess=L,F.onerror=x,++R);R===0&&v(C)})},get({trans:f,key:_}){return new Promise((v,S)=>{v=ut(v);let E=f.objectStore(c).get(_);E.onsuccess=C=>v(C.target.result),E.onerror=It(S)})},query:g(l),openCursor:u,count({query:f,trans:_}){let{index:v,range:S}=f;return new Promise((k,E)=>{let C=_.objectStore(c),R=v.isPrimaryKey?C:C.index(v.name),A=i(S),F=A?R.count(A):R.count();F.onsuccess=ut(L=>k(L.target.result)),F.onerror=It(E)})}}}let{schema:a,hasGetAll:l}=r(t,n),m=a.tables.map(y=>s(y)),p={};return m.forEach(y=>p[y.name]=y),{stack:"dbcore",transaction:t.transaction.bind(t),table(y){if(!p[y])throw new Error(`Table '${y}' not found`);return p[y]},MIN_KEY:-1/0,MAX_KEY:xe(e),schema:a}}function As(t,e){return e.reduce((n,{create:r})=>({...n,...r(n)}),t)}function Is(t,e,{IDBKeyRange:n,indexedDB:r},i){return{dbcore:As(Cs(e,n,i),t.dbcore)}}function nr({_novip:t},e){let n=e.db,r=Is(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach(i=>{let s=i.name;t.core.schema.tables.some(a=>a.name===s)&&(i.core=t.core.table(s),t[s]instanceof t.Table&&(t[s].core=i.core))})}function en({_novip:t},e,n,r){n.forEach(i=>{let s=r[i];e.forEach(a=>{let l=Gn(a,i);(!l||"value"in l&&l.value===void 0)&&(a===t.Transaction.prototype||a instanceof t.Transaction?Kt(a,i,{get(){return this.table(i)},set(m){Fr(this,i,{value:m,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new t.Table(i,s))})})}function Nn({_novip:t},e){e.forEach(n=>{for(let r in n)n[r]instanceof t.Table&&delete n[r]})}function Rs(t,e){return t._cfg.version-e._cfg.version}function Ts(t,e,n,r){let i=t._dbSchema,s=t._createTransaction("readwrite",t._storeNames,i);s.create(n),s._completion.catch(r);let a=s._reject.bind(s),l=q.transless||q;Wt(()=>{q.trans=s,q.transless=l,e===0?(ht(i).forEach(m=>{rr(n,m,i[m].primKey,i[m].indexes)}),nr(t,n),G.follow(()=>t.on.populate.fire(s)).catch(a)):Ds(t,e,s,n).catch(a)})}function Ds({_novip:t},e,n,r){let i=[],s=t._versions,a=t._dbSchema=ir(t,t.idbdb,r),l=!1;s.filter(y=>y._cfg.version>=e).forEach(y=>{i.push(()=>{let c=a,d=y._cfg.dbschema;Un(t,c,r),Un(t,d,r),a=t._dbSchema=d;let u=oi(c,d);u.add.forEach(f=>{rr(r,f[0],f[1].primKey,f[1].indexes)}),u.change.forEach(f=>{if(f.recreate)throw new et.Upgrade("Not yet support for changing primary key");{let _=r.objectStore(f.name);f.add.forEach(v=>jn(_,v)),f.change.forEach(v=>{_.deleteIndex(v.name),jn(_,v)}),f.del.forEach(v=>_.deleteIndex(v))}});let g=y._cfg.contentUpgrade;if(g&&y._cfg.version>e){nr(t,r),n._memoizedTables={},l=!0;let f=Nr(d);u.del.forEach(k=>{f[k]=c[k]}),Nn(t,[t.Transaction.prototype]),en(t,[t.Transaction.prototype],ht(f),f),n.schema=f;let _=Qn(g);_&&oe();let v,S=G.follow(()=>{if(v=g(n),v&&_){var k=Nt.bind(null,null);v.then(k,k)}});return v&&typeof v.then=="function"?G.resolve(v):S.then(()=>v)}}),i.push(c=>{if(!l||!ls){let d=y._cfg.dbschema;Os(d,c)}Nn(t,[t.Transaction.prototype]),en(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),n.schema=t._dbSchema})});function p(){return i.length?G.resolve(i.shift()(n.idbtrans)).then(p):G.resolve()}return p().then(()=>{Ps(a,r)})}function oi(t,e){let n={del:[],add:[],change:[]},r;for(r in t)e[r]||n.del.push(r);for(r in e){let i=t[r],s=e[r];if(!i)n.add.push([r,s]);else{let a={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!on)a.recreate=!0,n.change.push(a);else{let l=i.idxByName,m=s.idxByName,p;for(p in l)m[p]||a.del.push(p);for(p in m){let y=l[p],c=m[p];y?y.src!==c.src&&a.change.push(c):a.add.push(c)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}}return n}function rr(t,e,n,r){let i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(s=>jn(i,s)),i}function Ps(t,e){ht(t).forEach(n=>{e.db.objectStoreNames.contains(n)||rr(e,n,t[n].primKey,t[n].indexes)})}function Os(t,e){[].slice.call(e.db.objectStoreNames).forEach(n=>t[n]==null&&e.db.deleteObjectStore(n))}function jn(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function ir(t,e,n){let r={};return sn(e.objectStoreNames,0).forEach(s=>{let a=n.objectStore(s),l=a.keyPath,m=Mn(si(l),l||"",!1,!1,!!a.autoIncrement,l&&typeof l!="string",!0),p=[];for(let c=0;c<a.indexNames.length;++c){let d=a.index(a.indexNames[c]);l=d.keyPath;var y=Mn(d.name,l,!!d.unique,!!d.multiEntry,!1,l&&typeof l!="string",!1);p.push(y)}r[s]=ai(s,m,p)}),r}function zs({_novip:t},e,n){t.verno=e.version/10;let r=t._dbSchema=ir(t,e,n);t._storeNames=sn(e.objectStoreNames,0),en(t,[t._allTables],ht(r),r)}function Fs(t,e){let n=ir(t,t.idbdb,e),r=oi(n,t._dbSchema);return!(r.add.length||r.change.some(i=>i.add.length||i.change.length))}function Un({_novip:t},e,n){let r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){let s=r[i],a=n.objectStore(s);t._hasGetAll="getAll"in a;for(let l=0;l<a.indexNames.length;++l){let m=a.indexNames[l],p=a.index(m).keyPath,y=typeof p=="string"?p:"["+sn(p).join("+")+"]";if(e[s]){let c=e[s].idxByName[y];c&&(c.name=m,delete e[s].idxByName[y],e[s].idxByName[m]=c)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ot.WorkerGlobalScope&&ot instanceof ot.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}function Bs(t){return t.split(",").map((e,n)=>{e=e.trim();let r=e.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return Mn(r,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),_t(i),n===0)})}var Ln=class{_parseStoresSpec(e,n){ht(e).forEach(r=>{if(e[r]!==null){var i=Bs(e[r]),s=i.shift();if(s.multi)throw new et.Schema("Primary key cannot be multi-valued");i.forEach(a=>{if(a.auto)throw new et.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new et.Schema("Index must have a name and cannot be an empty string")}),n[r]=ai(r,s,i)}})}stores(e){let n=this.db;this._cfg.storesSource=this._cfg.storesSource?bt(this._cfg.storesSource,e):e;let r=n._versions,i={},s={};return r.forEach(a=>{bt(i,a._cfg.storesSource),s=a._cfg.dbschema={},a._parseStoresSpec(i,s)}),n._dbSchema=s,Nn(n,[n._allTables,n,n.Transaction.prototype]),en(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],ht(s),s),n._storeNames=ht(s),this}upgrade(e){return this._cfg.contentUpgrade=qn(this._cfg.contentUpgrade||st,e),this}};function Ms(t){return Te(Ln.prototype,function(n){this.db=t,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function sr(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Rt(un,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function ar(t){return t&&typeof t.databases=="function"}function Ks({indexedDB:t,IDBKeyRange:e}){return ar(t)?Promise.resolve(t.databases()).then(n=>n.map(r=>r.name).filter(r=>r!==un)):sr(t,e).toCollection().primaryKeys()}function Ns({indexedDB:t,IDBKeyRange:e},n){!ar(t)&&n!==un&&sr(t,e).put({name:n}).catch(st)}function js({indexedDB:t,IDBKeyRange:e},n){!ar(t)&&n!==un&&sr(t,e).delete(n).catch(st)}function Wn(t){return Wt(function(){return q.letThrough=!0,t()})}function Us(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)})}function Ls(t){let e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?dt(e.dbOpenError):t);Tt&&(e.openCanceller._stackHolder=Jt()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;let r=e.openCanceller;function i(){if(e.openCanceller!==r)throw new et.DatabaseClosed("db.open() was cancelled")}let s=e.dbReadyResolve,a=null,l=!1;return G.race([r,(typeof navigator>"u"?G.resolve():Us()).then(()=>new G((m,p)=>{if(i(),!n)throw new et.MissingAPI;let y=t.name,c=e.autoSchema?n.open(y):n.open(y,Math.round(t.verno*10));if(!c)throw new et.MissingAPI;c.onerror=It(p),c.onblocked=ut(t._fireOnBlocked),c.onupgradeneeded=ut(d=>{if(a=c.transaction,e.autoSchema&&!t._options.allowEmptyDB){c.onerror=we,a.abort(),c.result.close();let g=n.deleteDatabase(y);g.onsuccess=g.onerror=ut(()=>{p(new et.NoSuchDatabase(`Database ${y} doesnt exist`))})}else{a.onerror=It(p);var u=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;l=u<1,t._novip.idbdb=c.result,Ts(t,u/10,a,p)}},p),c.onsuccess=ut(()=>{a=null;let d=t._novip.idbdb=c.result,u=sn(d.objectStoreNames);if(u.length>0)try{let g=d.transaction(xs(u),"readonly");e.autoSchema?zs(t,d,g):(Un(t,t._dbSchema,g),Fs(t,g)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),nr(t,g)}catch{}ge.push(t),d.onversionchange=ut(g=>{e.vcFired=!0,t.on("versionchange").fire(g)}),d.onclose=ut(g=>{t.on("close").fire(g)}),l&&Ns(t._deps,y),m()},p)}))]).then(()=>(i(),e.onReadyBeingFired=[],G.resolve(Wn(()=>t.on.ready.fire(t.vip))).then(function m(){if(e.onReadyBeingFired.length>0){let p=e.onReadyBeingFired.reduce(qn,st);return e.onReadyBeingFired=[],G.resolve(Wn(()=>p(t.vip))).then(m)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(m=>{e.dbOpenError=m;try{a&&a.abort()}catch{}return r===e.openCanceller&&t._close(),dt(m)}).finally(()=>{e.openComplete=!0,s()})}function Zn(t){var e=a=>t.next(a),n=a=>t.throw(a),r=s(e),i=s(n);function s(a){return l=>{var m=a(l),p=m.value;return m.done?p:!p||typeof p.then!="function"?_t(p)?Promise.all(p).then(r,i):r(p):p.then(r,i)}}return s(e)()}function Ws(t,e,n){var r=arguments.length;if(r<2)throw new et.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var s=jr(i);return[t,s,n]}function ui(t,e,n,r,i){return G.resolve().then(()=>{let s=q.transless||q,a=t._createTransaction(e,n,t._dbSchema,r),l={trans:a,transless:s};if(r)a.idbtrans=r.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(c){return c.name===Xn.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>ui(t,e,n,null,i))):dt(c)}let m=Qn(i);m&&oe();let p,y=G.follow(()=>{if(p=i.call(a,a),p)if(m){var c=Nt.bind(null,null);p.then(c,c)}else typeof p.next=="function"&&typeof p.throw=="function"&&(p=Zn(p))},l);return(p&&typeof p.then=="function"?G.resolve(p).then(c=>a.active?c:dt(new et.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):y.then(()=>p)).then(c=>(r&&a._resolve(),a._completion.then(()=>c))).catch(c=>(a._reject(c),dt(c)))})}function Ue(t,e,n){let r=_t(t)?t.slice():[t];for(let i=0;i<n;++i)r.push(e);return r}function Zs(t){return{...t,table(e){let n=t.table(e),{schema:r}=n,i={},s=[];function a(d,u,g){let f=ye(d),_=i[f]=i[f]||[],v=d==null?0:typeof d=="string"?1:d.length,S=u>0,k={...g,isVirtual:S,keyTail:u,keyLength:v,extractKey:Kn(d),unique:!S&&g.unique};if(_.push(k),k.isPrimaryKey||s.push(k),v>1){let E=v===2?d[0]:d.slice(0,v-1);a(E,u+1,g)}return _.sort((E,C)=>E.keyTail-C.keyTail),k}let l=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[l];for(let d of r.indexes)a(d.keyPath,0,d);function m(d){let u=i[ye(d)];return u&&u[0]}function p(d,u){return{type:d.type===1?2:d.type,lower:Ue(d.lower,d.lowerOpen?t.MAX_KEY:t.MIN_KEY,u),lowerOpen:!0,upper:Ue(d.upper,d.upperOpen?t.MIN_KEY:t.MAX_KEY,u),upperOpen:!0}}function y(d){let u=d.query.index;return u.isVirtual?{...d,query:{index:u,range:p(d.query.range,u.keyTail)}}:d}return{...n,schema:{...r,primaryKey:l,indexes:s,getIndexByKeyPath:m},count(d){return n.count(y(d))},query(d){return n.query(y(d))},openCursor(d){let{keyTail:u,isVirtual:g,keyLength:f}=d.query.index;if(!g)return n.openCursor(d);function _(v){function S(E){E!=null?v.continue(Ue(E,d.reverse?t.MAX_KEY:t.MIN_KEY,u)):d.unique?v.continue(v.key.slice(0,f).concat(d.reverse?t.MIN_KEY:t.MAX_KEY,u)):v.continue()}return Object.create(v,{continue:{value:S},continuePrimaryKey:{value(E,C){v.continuePrimaryKey(Ue(E,t.MAX_KEY,u),C)}},primaryKey:{get(){return v.primaryKey}},key:{get(){let E=v.key;return f===1?E[0]:E.slice(0,f)}},value:{get(){return v.value}}})}return n.openCursor(y(d)).then(v=>v&&_(v))}}}}}var Vs={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Zs};function or(t,e,n,r){return n=n||{},r=r||"",ht(t).forEach(i=>{if(!kt(e,i))n[r+i]=void 0;else{var s=t[i],a=e[i];if(typeof s=="object"&&typeof a=="object"&&s&&a){let l=wn(s),m=wn(a);l!==m?n[r+i]=e[i]:l==="Object"?or(s,a,n,r+i+"."):s!==a&&(n[r+i]=e[i])}else s!==a&&(n[r+i]=e[i])}}),ht(e).forEach(i=>{kt(t,i)||(n[r+i]=e[i])}),n}function Hs(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}var $s={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){let n=t.table(e),{primaryKey:r}=n.schema;return{...n,mutate(s){let a=q.trans,{deleting:l,creating:m,updating:p}=a.table(e).hook;switch(s.type){case"add":if(m.fire===st)break;return a._promise("readwrite",()=>y(s),!0);case"put":if(m.fire===st&&p.fire===st)break;return a._promise("readwrite",()=>y(s),!0);case"delete":if(l.fire===st)break;return a._promise("readwrite",()=>y(s),!0);case"deleteRange":if(l.fire===st)break;return a._promise("readwrite",()=>c(s),!0)}return n.mutate(s);function y(u){let g=q.trans,f=u.keys||Hs(r,u);if(!f)throw new Error("Keys missing");return u=u.type==="add"||u.type==="put"?{...u,keys:f}:{...u},u.type!=="delete"&&(u.values=[...u.values]),u.keys&&(u.keys=[...u.keys]),Gs(n,u,f).then(_=>{let v=f.map((S,k)=>{let E=_[k],C={onerror:null,onsuccess:null};if(u.type==="delete")l.fire.call(C,S,E,g);else if(u.type==="add"||E===void 0){let R=m.fire.call(C,S,u.values[k],g);S==null&&R!=null&&(S=R,u.keys[k]=S,r.outbound||Et(u.values[k],r.keyPath,S))}else{let R=or(E,u.values[k]),A=p.fire.call(C,R,S,E,g);if(A){let F=u.values[k];Object.keys(A).forEach(L=>{kt(F,L)?F[L]=A[L]:Et(F,L,A[L])})}}return C});return n.mutate(u).then(({failures:S,results:k,numFailures:E,lastResult:C})=>{for(let R=0;R<f.length;++R){let A=k?k[R]:f[R],F=v[R];A==null?F.onerror&&F.onerror(S[R]):F.onsuccess&&F.onsuccess(u.type==="put"&&_[R]?u.values[R]:A)}return{failures:S,results:k,numFailures:E,lastResult:C}}).catch(S=>(v.forEach(k=>k.onerror&&k.onerror(S)),Promise.reject(S)))})}function c(u){return d(u.trans,u.range,1e4)}function d(u,g,f){return n.query({trans:u,values:!1,query:{index:r,range:g},limit:f}).then(({result:_})=>y({type:"delete",keys:_,trans:u}).then(v=>v.numFailures>0?Promise.reject(v.failures[0]):_.length<f?{failures:[],numFailures:0,lastResult:void 0}:d(u,{...g,lower:_[_.length-1],lowerOpen:!0},f)))}}}}})};function Gs(t,e,n){return e.type==="add"?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}function li(t,e,n){try{if(!e||e.keys.length<t.length)return null;let r=[];for(let i=0,s=0;i<e.keys.length&&s<t.length;++i)vt(e.keys[i],t[s])===0&&(r.push(n?Ee(e.values[i]):e.values[i]),++s);return r.length===t.length?r:null}catch{return null}}var Qs={stack:"dbcore",level:-1,create:t=>({table:e=>{let n=t.table(e);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);let i=li(r.keys,r.trans._cache,r.cache==="clone");return i?G.resolve(i):n.getMany(r).then(s=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?Ee(s):s},s))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function ur(t){return!("from"in t)}var zt=function(t,e){if(this)bt(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0});else{let n=new zt;return t&&"d"in t&&bt(n,t),n}};ie(zt.prototype,{add(t){return nn(this,t),this},addKey(t){return Se(this,t,t),this},addKeys(t){return t.forEach(e=>Se(this,e,e)),this},[kn](){return Vn(this)}});function Se(t,e,n){let r=vt(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(ur(t))return bt(t,{from:e,to:n,d:1});let i=t.l,s=t.r;if(vt(n,t.from)<0)return i?Se(i,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Or(t);if(vt(e,t.to)>0)return s?Se(s,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Or(t);vt(e,t.from)<0&&(t.from=e,t.l=null,t.d=s?s.d+1:1),vt(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);let a=!t.r;i&&!t.l&&nn(t,i),s&&a&&nn(t,s)}function nn(t,e){function n(r,{from:i,to:s,l:a,r:l}){Se(r,i,s),a&&n(r,a),l&&n(r,l)}ur(e)||n(t,e)}function Ys(t,e){let n=Vn(e),r=n.next();if(r.done)return!1;let i=r.value,s=Vn(t),a=s.next(i.from),l=a.value;for(;!r.done&&!a.done;){if(vt(l.from,i.to)<=0&&vt(l.to,i.from)>=0)return!0;vt(i.from,l.from)<0?i=(r=n.next(l.from)).value:l=(a=s.next(i.from)).value}return!1}function Vn(t){let e=ur(t)?null:{s:0,n:t};return{next(n){let r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&vt(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||vt(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Or(t){var e,n;let r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){let s=i==="r"?"l":"r",a={...t},l=t[i];t.from=l.from,t.to=l.to,t[i]=l[i],a[i]=l[s],t[s]=a,a.d=zr(a)}t.d=zr(t)}function zr({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}var Xs={stack:"dbcore",level:0,create:t=>{let e=t.schema.name,n=new zt(t.MIN_KEY,t.MAX_KEY);return{...t,table:r=>{let i=t.table(r),{schema:s}=i,{primaryKey:a}=s,{extractKey:l,outbound:m}=a,p={...i,mutate:d=>{let u=d.trans,g=u.mutatedParts||(u.mutatedParts={}),f=R=>{let A=`idb://${e}/${r}/${R}`;return g[A]||(g[A]=new zt)},_=f(""),v=f(":dels"),{type:S}=d,[k,E]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[],C=d.trans._cache;return i.mutate(d).then(R=>{if(_t(k)){S!=="delete"&&(k=R.results),_.addKeys(k);let A=li(k,C);!A&&S!=="add"&&v.addKeys(k),(A||E)&&qs(f,s,A,E)}else if(k){let A={from:k.lower,to:k.upper};v.add(A),_.add(A)}else _.add(n),v.add(n),s.indexes.forEach(A=>f(A.name).add(n));return R})}},y=({query:{index:d,range:u}})=>{var g,f;return[d,new zt((g=u.lower)!==null&&g!==void 0?g:t.MIN_KEY,(f=u.upper)!==null&&f!==void 0?f:t.MAX_KEY)]},c={get:d=>[a,new zt(d.key)],getMany:d=>[a,new zt().addKeys(d.keys)],count:y,query:y,openCursor:y};return ht(c).forEach(d=>{p[d]=function(u){let{subscr:g}=q;if(g){let f=E=>{let C=`idb://${e}/${r}/${E}`;return g[C]||(g[C]=new zt)},_=f(""),v=f(":dels"),[S,k]=c[d](u);if(f(S.name||"").add(k),!S.isPrimaryKey)if(d==="count")v.add(n);else{let E=d==="query"&&m&&u.values&&i.query({...u,values:!1});return i[d].apply(this,arguments).then(C=>{if(d==="query"){if(m&&u.values)return E.then(({result:A})=>(_.addKeys(A),C));let R=u.values?C.result.map(l):C.result;u.values?_.addKeys(R):v.addKeys(R)}else if(d==="openCursor"){let R=C,A=u.values;return R&&Object.create(R,{key:{get(){return v.addKey(R.primaryKey),R.key}},primaryKey:{get(){let F=R.primaryKey;return v.addKey(F),F}},value:{get(){return A&&_.addKey(R.primaryKey),R.value}}})}return C})}}return i[d].apply(this,arguments)}}),p}}}};function qs(t,e,n,r){function i(s){let a=t(s.name||"");function l(p){return p!=null?s.extractKey(p):null}let m=p=>s.multiEntry&&_t(p)?p.forEach(y=>a.addKey(y)):a.addKey(p);(n||r).forEach((p,y)=>{let c=n&&l(n[y]),d=r&&l(r[y]);vt(c,d)!==0&&(c!=null&&m(c),d!=null&&m(d))})}e.indexes.forEach(i)}var Rt=class{constructor(e,n){this._middlewares={},this.verno=0;let r=Rt.dependencies;this._options=n={addons:Rt.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};let{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;let s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:st,dbReadyPromise:null,cancelOpen:st,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};s.dbReadyPromise=new G(a=>{s.dbReadyResolve=a}),s.openCanceller=new G((a,l)=>{s.cancelOpen=l}),this._state=s,this.name=e,this.on=Re(this,"populate","blocked","versionchange","close",{ready:[qn,st]}),this.on.ready.subscribe=Br(this.on.ready.subscribe,a=>(l,m)=>{Rt.vip(()=>{let p=this._state;if(p.openComplete)p.dbOpenError||G.resolve().then(l),m&&a(l);else if(p.onReadyBeingFired)p.onReadyBeingFired.push(l),m&&a(l);else{a(l);let y=this;m||a(function c(){y.on.ready.unsubscribe(l),y.on.ready.unsubscribe(c)})}})}),this.Collection=ms(this),this.Table=fs(this),this.Transaction=ks(this),this.Version=Ms(this),this.WhereClause=ws(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=xe(n.IDBKeyRange),this._createTransaction=(a,l,m,p)=>new this.Transaction(a,l,m,this._options.chromeTransactionDurability,p),this._fireOnBlocked=a=>{this.on("blocked").fire(a),ge.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(a))},this.use(Vs),this.use($s),this.use(Xs),this.use(Qs),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(a=>a(this))}version(e){if(isNaN(e)||e<.1)throw new et.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new et.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);let n=this._versions;var r=n.filter(i=>i._cfg.version===e)[0];return r||(r=new this.Version(e),n.push(r),n.sort(Rs),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||q.letThrough||this._vip)?e():new G((n,r)=>{if(this._state.openComplete)return r(new et.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen){r(new et.DatabaseClosed);return}this.open().catch(st)}this._state.dbReadyPromise.then(n,r)}).then(e)}use({stack:e,create:n,level:r,name:i}){i&&this.unuse({stack:e,name:i});let s=this._middlewares[e]||(this._middlewares[e]=[]);return s.push({stack:e,create:n,level:r??10,name:i}),s.sort((a,l)=>a.level-l.level),this}unuse({stack:e,name:n,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(i=>r?i.create!==r:n?i.name!==n:!1)),this}open(){return Ls(this)}_close(){let e=this._state,n=ge.indexOf(this);if(n>=0&&ge.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new G(r=>{e.dbReadyResolve=r}),e.openCanceller=new G((r,i)=>{e.cancelOpen=i})}close(){this._close();let e=this._state;this._options.autoOpen=!1,e.dbOpenError=new et.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){let e=arguments.length>0,n=this._state;return new G((r,i)=>{let s=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=ut(()=>{js(this._deps,this.name),r()}),a.onerror=It(i),a.onblocked=this._fireOnBlocked};if(e)throw new et.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){let e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return ht(this._allTables).map(e=>this._allTables[e])}transaction(){let e=Ws.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,n,r){let i=q.trans;(!i||i.db!==this||e.indexOf("!")!==-1)&&(i=null);let s=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");let a,l;try{if(l=n.map(p=>{var y=p instanceof this.Table?p.name:p;if(typeof y!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return y}),e=="r"||e===mn)a=mn;else if(e=="rw"||e==gn)a=gn;else throw new et.InvalidArgument("Invalid transaction mode: "+e);if(i){if(i.mode===mn&&a===gn)if(s)i=null;else throw new et.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i&&l.forEach(p=>{if(i&&i.storeNames.indexOf(p)===-1)if(s)i=null;else throw new et.SubTransaction("Table "+p+" not included in parent transaction.")}),s&&i&&!i.active&&(i=null)}}catch(p){return i?i._promise(null,(y,c)=>{c(p)}):dt(p)}let m=ui.bind(null,this,a,l,i,r);return i?i._promise(a,m,"lock"):q.trans?ue(q.transless,()=>this._whenReady(m)):this._whenReady(m)}table(e){if(!kt(this._allTables,e))throw new et.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}},Js=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Hn=class{constructor(e){this._subscribe=e}subscribe(e,n,r){return this._subscribe(!e||typeof e=="function"?{next:e,error:n,complete:r}:e)}[Js](){return this}};function ci(t,e){return ht(e).forEach(n=>{let r=t[n]||(t[n]=new zt);nn(r,e[n])}),t}function ta(t){return new Hn(e=>{let n=Qn(t);function r(u){n&&oe();let g=()=>Wt(t,{subscr:u,trans:null}),f=q.trans?ue(q.transless,g):g();return n&&f.then(Nt,Nt),f}let i=!1,s={},a={},l={get closed(){return i},unsubscribe:()=>{i=!0,Vt.storagemutated.unsubscribe(c)}};e.start&&e.start(l);let m=!1,p=!1;function y(){return ht(a).some(u=>s[u]&&Ys(s[u],a[u]))}let c=u=>{ci(s,u),y()&&d()},d=()=>{if(m||i)return;s={};let u={},g=r(u);p||(Vt(ke,c),p=!0),m=!0,Promise.resolve(g).then(f=>{m=!1,!i&&(y()?d():(s={},a=u,e.next&&e.next(f)))},f=>{m=!1,e.error&&e.error(f),l.unsubscribe()})};return d(),l})}var $n;try{$n={indexedDB:ot.indexedDB||ot.mozIndexedDB||ot.webkitIndexedDB||ot.msIndexedDB,IDBKeyRange:ot.IDBKeyRange||ot.webkitIDBKeyRange}}catch{$n={indexedDB:null,IDBKeyRange:null}}var $t=Rt;ie($t,{...an,delete(t){return new $t(t,{addons:[]}).delete()},exists(t){return new $t(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1)},getDatabaseNames(t){try{return Ks($t.dependencies).then(t)}catch{return dt(new et.MissingAPI)}},defineClass(){function t(e){bt(this,e)}return t},ignoreTransaction(t){return q.trans?ue(q.transless,t):t()},vip:Wn,async:function(t){return function(){try{var e=Zn(t.apply(this,arguments));return!e||typeof e.then!="function"?G.resolve(e):e}catch(n){return dt(n)}}},spawn:function(t,e,n){try{var r=Zn(t.apply(n,e||[]));return!r||typeof r.then!="function"?G.resolve(r):r}catch(i){return dt(i)}},currentTransaction:{get:()=>q.trans||null},waitFor:function(t,e){let n=G.resolve(typeof t=="function"?$t.ignoreTransaction(t):t).timeout(e||6e4);return q.trans?q.trans.waitFor(n):n},Promise:G,debug:{get:()=>Tt,set:t=>{Lr(t,t==="dexie"?()=>!0:ni)}},derive:se,extend:bt,props:ie,override:Br,Events:Re,on:Vt,liveQuery:ta,extendObservabilitySet:ci,getByKeyPath:Mt,setByKeyPath:Et,delByKeyPath:Mi,shallowClone:Nr,deepClone:Ee,getObjectDiff:or,cmp:vt,asap:Mr,minKey:On,addons:[],connections:ge,errnames:Xn,dependencies:$n,semVer:Ar,version:Ar.split(".").map(t=>parseInt(t)).reduce((t,e,n)=>t+e/Math.pow(10,n*2))});$t.maxKey=xe($t.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Vt(ke,t=>{if(!Bt){let e;on?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Lt,!0,!0,t)):e=new CustomEvent(Lt,{detail:t}),Bt=!0,dispatchEvent(e),Bt=!1}}),addEventListener(Lt,({detail:t})=>{Bt||rn(t)}));function rn(t){let e=Bt;try{Bt=!0,Vt.storagemutated.fire(t)}finally{Bt=e}}var Bt=!1;if(typeof BroadcastChannel<"u"){let t=new BroadcastChannel(Lt);Vt(ke,e=>{Bt||t.postMessage(e)}),t.onmessage=e=>{e.data&&rn(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Vt(ke,e=>{try{Bt||(typeof localStorage<"u"&&localStorage.setItem(Lt,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:Lt,changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===Lt){let n=JSON.parse(e.newValue);n&&rn(n.changedParts)}});let t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",ea)}function ea({data:t}){t&&t.type===Lt&&rn(t.changedParts)}G.rejectionMapper=Hi;Lr(Tt,ni);var ln=class extends Rt{constructor(){super("je2be-dlv2");this.version(1).stores({dlFiles:"&id,files"})}};self.addEventListener("message",t=>{if(dr(t.data)){let{id:e}=t.data;na(t.data).finally(()=>{Module.RemoveAll(`/je2be/${e}`)})}});self.importScripts("./pre-wasm.js");var lr=new Be;async function na(t){console.log(`[pre] (${t.id}) start`);let{id:e,file:n}=t,r=indexedDB.deleteDatabase("je2be-dl");r.onerror=g=>console.error(g),r.onsuccess=()=>console.log('[pre] deleted legacy "je2be-dl" table'),await new ln().dlFiles.clear(),console.log(`[pre] (${e}) extract...`);let s=await ra(n,e),a=s.length*32*32,l={type:"export_done",id:e,numTotalChunks:a};self.postMessage(l),console.log(`[pre] (${e}) extract done`),console.log(`[pre] (${e}) pre...`),await kr({kvs:lr,prefix:`/je2be/${e}/in`,mountPoint:`/je2be/${e}/in`});let m=0,p=Module._malloc(4),y=Module.Pre(e,`/je2be/${e}/in`,`/je2be/${e}/out`,m,p);gr(`/je2be/${e}/in`),console.log(`[pre] (${e}) pre done`),console.log(`[pre] (${e}) queue...`);let c=[],d=Oe(p);for(let g=0;g+1<y;g+=2){let f=Oe(d+g*4),_=Oe(d+g*4+4);c.push(f),c.push(_)}Module._free(d),Module._free(p),ia(e,s,c),console.log(`[pre] (${e}) queue done: queue length=${s.length}`);let u={id:e,type:"queueing_finished"};self.postMessage(u)}async function ra(t,e){let n;try{n=await fi.default.loadAsync(t)}catch(_){throw{type:"Unzip"}}let r=[];if(n.forEach(_=>{!_.endsWith("level.dat")||r.push(_)}),r.length===0)throw{type:"NoLevelDatFound"};if(r.length!==1)throw{type:"2OrMoreLevelDatFound"};let i=r[0],s=i.lastIndexOf("level.dat"),a=i.substring(0,s),l=[],m=[],p=[];n.forEach((_,v)=>{if(!!_.startsWith(a)&&!v.dir){if(_.endsWith(".mca")){if(_.includes("/region/")){m.push(_);return}else if(_.includes("/entities/")){p.push(_);return}}l.push(_)}});let y=l.length+m.length+p.length,c={type:"progress",id:e,stage:"unzip",progress:-1,total:y};self.postMessage(c);let d=0,u=[...l,...p].map(async _=>{let v=_.substring(a.length),S=`/je2be/${e}/in/${v}`,k=await hn({zip:n,path:_});await lr.put(S,k),d++;let E={type:"progress",id:e,stage:"unzip",progress:d,total:y};self.postMessage(E)});await Promise.all(u);let g=[],f=m.map(async _=>{let v=_.substring(a.length),S=`/je2be/${e}/in/${v}`,k=await hn({zip:n,path:_}),E=0;if(v.startsWith("region/"))E=0;else if(v.startsWith("DIM1/region/"))E=2;else if(v.startsWith("DIM-1/region/"))E=1;else return;let R=_.split("/").pop().split("."),A=parseInt(R[1],10),F=parseInt(R[2],10),L={rx:A,rz:F,dim:E};g.push(L),await lr.put(S,k),d++;let x={type:"progress",id:e,stage:"unzip",progress:d,total:y};self.postMessage(x)});return await Promise.all(f),g}function ia(t,e,n){for(let r of e){let{rx:i,rz:s,dim:a}=r,l={type:"region",id:t,rx:i,rz:s,dim:a,javaEditionMap:n};self.postMessage(l)}}})();
/*!

JSZip v3.10.0 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/
